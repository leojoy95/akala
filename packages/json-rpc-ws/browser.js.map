{"version":3,"sources":["webpack://@akala/json-rpc-ws/webpack/universalModuleDefinition","webpack://@akala/json-rpc-ws/webpack/bootstrap","webpack://@akala/json-rpc-ws//root/akala/node_modules/ms/index.js","webpack://@akala/json-rpc-ws/./lib/base.js","webpack://@akala/json-rpc-ws/./lib/browser.js","webpack://@akala/json-rpc-ws/./lib/errors.js","webpack://@akala/json-rpc-ws/./lib/shared-client.js","webpack://@akala/json-rpc-ws/./lib/shared-connection.js","webpack://@akala/json-rpc-ws/./lib/ws/browser.js","webpack://@akala/json-rpc-ws/./lib/ws/shared-client.js","webpack://@akala/json-rpc-ws/./node_modules/debug/src/browser.js","webpack://@akala/json-rpc-ws/./node_modules/debug/src/common.js","webpack://@akala/json-rpc-ws/./node_modules/uuid/dist/esm-browser/rng.js","webpack://@akala/json-rpc-ws/./node_modules/uuid/dist/esm-browser/bytesToUuid.js","webpack://@akala/json-rpc-ws/./node_modules/uuid/dist/esm-browser/v1.js","webpack://@akala/json-rpc-ws/./node_modules/uuid/dist/esm-browser/v35.js","webpack://@akala/json-rpc-ws/./node_modules/uuid/dist/esm-browser/md5.js","webpack://@akala/json-rpc-ws/./node_modules/uuid/dist/esm-browser/v3.js","webpack://@akala/json-rpc-ws/./node_modules/uuid/dist/esm-browser/v4.js","webpack://@akala/json-rpc-ws/./node_modules/uuid/dist/esm-browser/sha1.js","webpack://@akala/json-rpc-ws/./node_modules/uuid/dist/esm-browser/v5.js"],"names":["root","factory","exports","module","define","amd","this","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","h","plural","ms","msAbs","isPlural","Math","round","val","options","type","length","str","String","match","exec","parseFloat","toLowerCase","parse","isFinite","long","abs","fmtLong","fmtShort","Error","JSON","stringify","__importDefault","mod","debug_1","uuid_1","logger","default","Base","id","v4","browser","requestHandlers","connections","method","handler","socket","connection","undefined","keys","forEach","close","shared_connection_1","errors_1","Errors","browser_1","Client","createClient","ByobReader","stream","reader","DefaultReader","releaseLock","error","emitError","closed","reason","cancel","chunks","push","view","read","then","v","done","byteOffset","byteLength","buffer","Deferred","next","reject","totalLength","reduce","chunk","resolve","Uint8Array","start","Promise","finally","Readable","_reader","target","_reason","abort","locked","writable","readable","pipeTo","dest","writer","getWriter","shift","write","preventClose","Connection","parent","super","result","getReader","open","sendRaw","event","isBuffer","data","src","getOwnPropertyNames","getOwnPropertyDescriptor","prop","f","responseHandlers","from","parseError","code","message","invalidRequest","methodNotFound","invalidParams","internalError","serverError","errors","payload","base_1","socketConstructor","address","callback","isConnected","self","opened","once","connected","err","ids","getConnection","hangup","params","sendMethod","_resolve","_reject","_value","jsonParse","emptyCallback","send","on","jsonrpc","version","sendError","info","getHandler","buildStream","reply","sendResult","responseHandler","isStream","response","Array","isArray","cleanResult","sendStream","request","stack","disconnected","console","processPayload","shared_client_1","WebSocketAdapter","readyState","WebSocket","OPEN","addEventListener","connect","replace","log","args","formatArgs","useColors","namespace","humanize","diff","color","splice","index","lastC","save","namespaces","storage","setItem","removeItem","load","getItem","process","env","DEBUG","window","__nwjs","navigator","userAgent","document","documentElement","style","WebkitAppearance","firebug","exception","table","parseInt","RegExp","$1","localStorage","localstorage","colors","formatters","j","selectColor","hash","charCodeAt","createDebug","prevTime","debug","enabled","curr","Number","Date","prev","coerce","unshift","format","formatter","apply","destroy","extend","init","instances","indexOf","delimiter","newDebug","toNamespace","regexp","toString","substring","disable","names","map","skips","join","enable","split","len","substr","instance","test","getRandomValues","crypto","msCrypto","rnds8","rng","byteToHex","_nodeId","_clockseq","buf","offset","bth","_lastMSecs","_lastNSecs","b","node","clockseq","seedBytes","random","msecs","now","nsecs","dt","tl","tmh","generateUUID","off","unescape","encodeURIComponent","bytes","stringToBytes","uuid","hex","uuidToBytes","TypeError","hashfunc","concat","idx","DNS","URL","getOutputLength","inputLength8","safeAdd","x","y","lsw","md5cmn","q","a","num","cnt","md5ff","md5gg","md5hh","md5ii","v35","msg","input","output","length32","charAt","md5ToHexEncodedArray","olda","oldb","oldc","oldd","wordsToMd5","length8","Uint32Array","bytesToWords","rnds","z","ROTL","K","H","N","ceil","M","_i","arr","pow","floor","_i2","W","_t","e","_t2","T"],"mappings":"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","file":"browser.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"@akala/json-rpc-ws\"] = factory();\n\telse\n\t\troot[\"@akala/json-rpc-ws\"] = factory();\n})(this, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./lib/browser.js\");\n","/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar w = d * 7;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} [options]\n * @throws {Error} throw an error if val is not a non-empty string or a number\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function(val, options) {\n  options = options || {};\n  var type = typeof val;\n  if (type === 'string' && val.length > 0) {\n    return parse(val);\n  } else if (type === 'number' && isFinite(val)) {\n    return options.long ? fmtLong(val) : fmtShort(val);\n  }\n  throw new Error(\n    'val is not a non-empty string or a valid number. val=' +\n      JSON.stringify(val)\n  );\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = String(str);\n  if (str.length > 100) {\n    return;\n  }\n  var match = /^(-?(?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(\n    str\n  );\n  if (!match) {\n    return;\n  }\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'weeks':\n    case 'week':\n    case 'w':\n      return n * w;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n    default:\n      return undefined;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtShort(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return Math.round(ms / d) + 'd';\n  }\n  if (msAbs >= h) {\n    return Math.round(ms / h) + 'h';\n  }\n  if (msAbs >= m) {\n    return Math.round(ms / m) + 'm';\n  }\n  if (msAbs >= s) {\n    return Math.round(ms / s) + 's';\n  }\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtLong(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return plural(ms, msAbs, d, 'day');\n  }\n  if (msAbs >= h) {\n    return plural(ms, msAbs, h, 'hour');\n  }\n  if (msAbs >= m) {\n    return plural(ms, msAbs, m, 'minute');\n  }\n  if (msAbs >= s) {\n    return plural(ms, msAbs, s, 'second');\n  }\n  return ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, msAbs, n, name) {\n  var isPlural = msAbs >= n * 1.5;\n  return Math.round(ms / n) + ' ' + name + (isPlural ? 's' : '');\n}\n","'use strict';\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst debug_1 = __importDefault(require(\"debug\"));\nconst uuid_1 = require(\"uuid\");\nconst logger = debug_1.default('json-rpc-ws');\n/**\n * Base functionality shared by client and server\n *\n * @constructor\n * @public\n */\nclass Base {\n    constructor(type) {\n        this.type = type;\n        this.id = uuid_1.v4();\n        this.browser = false;\n        this.requestHandlers = {};\n        this.connections = {};\n    }\n    /**\n     * Add a handler function for a given method\n     *\n     * @param {String} method - name of the method to add handler for.\n     * @param {function} handler - function to be passed params for given method.\n     * @todo enforce handler w/ two-param callback\n     * @public\n     */\n    expose(method, handler) {\n        logger('registering handler for %s', method);\n        if (this.requestHandlers[method]) {\n            throw Error('cannot expose handler, already exists ' + method);\n        }\n        this.requestHandlers[method] = handler;\n    }\n    ;\n    /**\n     * Connected event handler\n     *\n     * @param {Object} socket - new socket connection\n     * @private\n     */\n    connected(socket) {\n        var connection = this.connection(socket);\n        logger('%s connected with id %s', this.type, connection.id);\n        this.connections[connection.id] = connection;\n    }\n    ;\n    /**\n     * Disconnected event handler\n     *\n     * @param {Object} connection - connection object that has been closed\n     * @private\n     */\n    disconnected(connection) {\n        logger('disconnected');\n        delete this.connections[connection.id];\n    }\n    ;\n    /**\n     * Test if a handler exists for a given method\n     *\n     * @param {String} method - name of method\n     * @returns {Boolean} whether or not there are any handlers for the given method\n     * @public\n     */\n    hasHandler(method) {\n        if (this.requestHandlers[method] !== undefined) {\n            return true;\n        }\n        return false;\n    }\n    ;\n    /**\n     * Get handler for a given method\n     *\n     * @param {String} method - name of method\n     * @returns {Array}  - handler for given method\n     * @public\n     */\n    getHandler(method) {\n        return this.requestHandlers[method];\n    }\n    ;\n    /**\n     * Get a connection by id\n     *\n     * @param {id} id - id of the connection to get\n     * @returns {Connection} - Connection\n     * @public\n     */\n    getConnection(id) {\n        return this.connections[id];\n    }\n    ;\n    /**\n     * Shut down all existing connections\n     *\n     * @public\n     */\n    hangup() {\n        logger('hangup');\n        var connections = Object.keys(this.connections);\n        connections.forEach(function hangupConnection(id) {\n            this.connections[id].close();\n            delete this.connections[id];\n        }, this);\n    }\n    ;\n}\nexports.Base = Base;\n//# sourceMappingURL=base.js.map","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst shared_connection_1 = require(\"./shared-connection\");\nconst errors_1 = __importDefault(require(\"./errors\"));\nexports.Errors = errors_1.default;\nconst debug_1 = __importDefault(require(\"debug\"));\nconst logger = debug_1.default('json-rpc-ws');\nconst browser_1 = __importDefault(require(\"./ws/browser\"));\nexports.Client = browser_1.default;\nfunction createClient() {\n    logger('createClient');\n    return new browser_1.default();\n}\nexports.createClient = createClient;\nclass ByobReader {\n    constructor(stream) {\n        this.stream = stream;\n        this.reader = new DefaultReader(stream);\n        this.reader.releaseLock();\n    }\n    emitError(error) {\n        this.reader.emitError(error);\n    }\n    get closed() {\n        return this.reader.closed;\n    }\n    cancel(reason) {\n        return this.reader.cancel(reason);\n    }\n    push(...chunks) {\n        this.reader.push(...chunks);\n    }\n    read(view) {\n        return this.reader.read().then(v => {\n            if (!v.done) {\n                view.byteOffset = v.value.byteOffset;\n                view.byteLength = v.value.byteLength;\n                view.buffer = v.value.buffer;\n            }\n            return { done: v.done, value: view };\n        });\n    }\n    releaseLock() {\n        if (this.stream.reader === this)\n            this.stream.reader = undefined;\n    }\n}\nclass DefaultReader {\n    constructor(stream) {\n        this.stream = stream;\n        this.closed = new shared_connection_1.Deferred();\n    }\n    emitError(error) {\n        if (!this.next)\n            this.next = new shared_connection_1.Deferred();\n        this.next.reject(error);\n        return this.next;\n    }\n    push(...chunks) {\n        if (chunks.length == 0)\n            return;\n        var totalLength = chunks.reduce((l, chunk) => l + (chunk === null ? 0 : chunk.byteLength - chunk.byteOffset), 0);\n        if (totalLength === 0) {\n            if (!this.next)\n                this.next = new shared_connection_1.Deferred();\n            return this.next.resolve({ done: true });\n        }\n        var buffer = new Uint8Array(totalLength);\n        var start = 0;\n        var chunk = undefined;\n        for (chunk of chunks) {\n            if (chunk === null)\n                break;\n            for (var i = chunk.byteOffset; i < chunk.byteLength; i++) {\n                buffer[start++] = chunk[i];\n            }\n        }\n        if (!this.next)\n            this.next = new shared_connection_1.Deferred();\n        this.next.resolve({ value: buffer, done: false });\n        if (chunk === null) {\n            this.next = new shared_connection_1.Deferred();\n            this.next.resolve({ done: true });\n            this.closed.resolve();\n        }\n    }\n    cancel(reason) {\n        if (this.next)\n            return this.next.then(() => Promise.reject(reason));\n        else\n            return Promise.reject(reason);\n    }\n    read() {\n        if (!this.next)\n            this.next = new shared_connection_1.Deferred();\n        this.next.finally(() => this.next = undefined);\n        return this.next;\n    }\n    releaseLock() {\n        if (this.stream.reader === this)\n            this.stream.reader = undefined;\n    }\n}\nclass Readable {\n    constructor() {\n        this.buffer = [];\n    }\n    get reader() {\n        return this._reader;\n    }\n    set reader(reader) {\n        this._reader = reader;\n        if (reader && this.buffer.length) {\n            reader.push(...this.buffer);\n        }\n    }\n    get locked() {\n        return !!this.reader && !this.target;\n    }\n    cancel(_reason) {\n        if (this.reader)\n            return this.reader.cancel(_reason);\n        if (this.target)\n            return this.target.abort(_reason);\n        return Promise.resolve();\n    }\n    emitError(error) {\n        if (this.reader)\n            return this.reader.emitError(error);\n        if (this.target)\n            return this.target.abort(error);\n    }\n    push(chunk) {\n        if (!this.reader)\n            this.buffer.push(chunk);\n        else\n            this.reader.push(chunk);\n    }\n    getReader(options) {\n        if (this.locked)\n            throw new Error('stream is already locked');\n        if (options && options.mode === 'byob') {\n            return this.reader = new ByobReader(this);\n        }\n        return this.reader = new DefaultReader(this);\n    }\n    pipeThrough({ writable, readable }, options) {\n        this.pipeTo(writable, options);\n        return readable;\n    }\n    async pipeTo(dest, options) {\n        this.target = dest;\n        var writer = dest.getWriter();\n        var chunk;\n        while (typeof (chunk = this.buffer.shift()) != 'undefined') {\n            if (chunk)\n                await writer.write(chunk);\n            if (chunk === null && options && options.preventClose)\n                await writer.close();\n        }\n    }\n    tee() {\n        throw new Error(\"Method not implemented.\");\n    }\n}\nclass Connection extends shared_connection_1.Connection {\n    constructor(socket, parent) {\n        super(socket, parent);\n    }\n    async sendStream(id, result) {\n        var reader = result.getReader();\n        var chunk = await reader.read();\n        if (!chunk.done && this.socket.open)\n            this.sendRaw({ id: id, result: { event: 'data', isBuffer: true, data: { type: 'Buffer', data: chunk.value } } });\n        else if (this.socket.open)\n            this.sendRaw({ id: id, result: { event: 'end' }, stream: false });\n        else\n            logger('socket was closed before end of stream');\n    }\n    isStream(result) {\n        return typeof (result) != 'undefined' && !!result && typeof (result.getReader) == 'function';\n    }\n    buildStream(id, result) {\n        var s = result = new Readable();\n        var src = result;\n        Object.getOwnPropertyNames(src).forEach(function (p) {\n            if (Object.getOwnPropertyDescriptor(result, p) == null) {\n                var prop = Object.getOwnPropertyDescriptor(src, p);\n                if (prop)\n                    Object.defineProperty(result, p, prop);\n            }\n        });\n        var f = this.responseHandlers[id] = (error, result) => {\n            if (!!error)\n                s.emitError(error);\n            else\n                switch (result.event) {\n                    case 'data':\n                        if (result.data)\n                            s.push(Uint8Array.from(result.data.data));\n                        this.responseHandlers[id] = f;\n                        break;\n                    case 'end':\n                        s.push(null);\n                        break;\n                }\n        };\n        return result;\n    }\n}\nexports.Connection = Connection;\n//# sourceMappingURL=browser.js.map","'use strict';\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst debug_1 = __importDefault(require(\"debug\"));\nconst logger = debug_1.default('json-rpc-ws');\n/*\n * http://www.jsonrpc.org/specification#error_object\n */\nclass Errors {\n    /**\n     *\n     */\n    constructor() {\n        this.parseError = { code: -32700, message: 'Parse error' };\n        this.invalidRequest = { code: -32600, message: 'Invalid Request' };\n        this.methodNotFound = { code: -32601, message: 'Method not found' };\n        this.invalidParams = { code: -32602, message: 'Invalid params' };\n        this.internalError = { code: -32603, message: 'Internal error' };\n        this.serverError = { code: -32000, message: 'Server error' };\n    }\n}\nexports.Errors = Errors;\nvar errors = new Errors();\n/**\n * Returns a valid jsonrpc2.0 error reply\n *\n * @param {String} type - type of error\n * @param {Number|String|null} id - optional id for reply message\n * @param {Any} data - optional data attribute for error message\n * @returns {Object|null} mreply object that can be sent back\n */\nfunction getError(type, id, data) {\n    if (errors[type])\n        throw new Error('Invalid error type ' + type);\n    var payload = {\n        error: errors[type],\n    };\n    if (typeof id === 'string' || typeof id === 'number') {\n        payload.id = id;\n    }\n    if (typeof data !== 'undefined') {\n        payload.error.data = data;\n    }\n    logger('error %j', payload);\n    return payload;\n}\nexports.default = getError;\n;\n//# sourceMappingURL=errors.js.map","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst base_1 = require(\"./base\");\nconst debug_1 = __importDefault(require(\"debug\"));\nconst logger = debug_1.default('json-rpc-ws');\nclass Client extends base_1.Base {\n    constructor(socketConstructor) {\n        super('client');\n        this.socketConstructor = socketConstructor;\n        logger('new Client');\n    }\n    /**\n     * Connect to a json-rpc-ws server\n     *\n     * @param {String} address - url to connect to i.e. `ws://foo.com/`.\n     * @param {function} callback - optional callback to call once socket is connected\n     * @public\n     */\n    connect(address, callback) {\n        logger('Client connect %s', address);\n        if (!this.isConnected())\n            throw new Error('Already connected');\n        var self = this;\n        var opened = false;\n        var socket = this.socket = this.socketConstructor(address);\n        socket.once('open', function clientConnected() {\n            // The client connected handler runs scoped as the socket so we can pass\n            // it into our connected method like thisk\n            self.connected(socket);\n            opened = true;\n            if (callback)\n                callback.call(this);\n        });\n        if (callback)\n            this.socket.once('error', function socketError(err) {\n                if (!opened) {\n                    callback.call(self, err);\n                }\n            });\n    }\n    /**\n     * Test whether we have a connection or not\n     *\n     * @returns {Boolean} whether or not we have a connection\n     * @public\n     */\n    isConnected() {\n        return Object.keys(this.connections).length !== 0;\n    }\n    ;\n    /**\n     * Return the current connection (there can be only one)\n     *\n     * @returns {Object} current connection\n     * @public\n     */\n    getConnection() {\n        var ids = Object.keys(this.connections);\n        return this.connections[ids[0]];\n    }\n    ;\n    /**\n     * Close the current connection\n     *\n     * @param {function} callback - called when the connection has been closed\n     * @public\n     */\n    disconnect(callback) {\n        if (this.isConnected())\n            throw new Error('Not connected');\n        var connection = this.getConnection();\n        connection.hangup(callback);\n    }\n    ;\n    /**\n     * Send a method request\n     *\n     * @param {String} method - name of method\n     * @param {Array} params - optional parameters for method\n     * @param {function} callback - optional reply handler\n     * @public\n     * @todo allow for empty params aka arguments.length === 2\n     */\n    send(method, params, callback) {\n        logger('send %s', method);\n        if (!this.isConnected())\n            throw new Error('Not connected');\n        var connection = this.getConnection();\n        connection.sendMethod(method, params, callback);\n    }\n    ;\n}\nexports.default = Client;\n//# sourceMappingURL=shared-client.js.map","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst uuid_1 = require(\"uuid\");\nconst debug_1 = __importDefault(require(\"debug\"));\nconst errors_1 = __importDefault(require(\"./errors\"));\nconst logger = debug_1.default('json-rpc-ws');\nclass Deferred extends Promise {\n    constructor() {\n        var _resolve;\n        var _reject;\n        super((resolve, reject) => {\n            _resolve = resolve;\n            _reject = reject;\n        });\n        this._resolve = _resolve;\n        this._reject = _reject;\n    }\n    resolve(_value) {\n        if (typeof (this._resolve) == 'undefined')\n            throw new Error('Not Implemented');\n        this._resolve(_value);\n    }\n    reject(_reason) {\n        if (typeof (this._reject) == 'undefined')\n            throw new Error('Not Implemented');\n        this._reject(_reason);\n    }\n}\nexports.Deferred = Deferred;\n/**\n * Quarantined JSON.parse try/catch block in its own function\n *\n * @param {String} data - json data to be parsed\n * @returns {Object} Parsed json data\n */\nvar jsonParse = function jsonParse(data) {\n    var payload;\n    try {\n        payload = JSON.parse(data);\n    }\n    catch (error) {\n        logger(error);\n        payload = null;\n    }\n    return payload;\n};\n/**\n * JSON spec requires a reply for every request, but our lib doesn't require a\n * callback for every sendMethod. We need a dummy callback to throw into responseHandlers\n * for when the user doesn't supply callback to sendMethod\n */\nvar emptyCallback = function emptyCallback() {\n    logger('emptycallback');\n};\n/**\n * json-rpc-ws connection\n *\n * @constructor\n * @param {SocketAdapter} socket - socket adapter for this connection\n * @param {Object} parent - parent that controls this connection\n */\nclass Connection {\n    /**\n     *\n     */\n    constructor(socket, parent) {\n        this.socket = socket;\n        this.parent = parent;\n        this.id = uuid_1.v4();\n        this.responseHandlers = {};\n        if (!this.socket.send)\n            throw new Error('socket.send is not defined');\n        logger('new Connection to %s', parent.type);\n        socket.on('message', this.message.bind(this));\n        // this.on('message', this.message.bind(this));\n        this.once('close', this.close.bind(this));\n        this.once('error', this.close.bind(this));\n        // if (isBrowserSocket(parent, socket))\n        // {\n        //     socket.addEventListener('close', socketClosed.bind(this), { once: true });\n        //     socket.addEventListener('error', socketError.bind(this), { once: true });\n        // }\n        // else\n        // {\n        //     socket.once('close', this.close.bind(this));\n        //     socket.once('error', this.close.bind(this));\n        // }\n    }\n    on(event, handler) {\n        this.socket.on(event, handler);\n    }\n    once(event, handler) {\n        this.socket.once(event, handler);\n    }\n    /**\n     * Send json payload to the socket connection\n     *\n     * @param {Object} payload - data to be stringified\n     * @private\n     * @todo validate payload\n     * @todo make sure this.connection exists, is connected\n     * @todo if we're not connected look up the response handler from payload.id\n     */\n    sendRaw(payload) {\n        payload.jsonrpc = '2.0';\n        this.socket.send(JSON.stringify(payload));\n    }\n    ;\n    /**\n     * Validate payload as valid jsonrpc 2.0\n     * http://www.jsonrpc.org/specification\n     * Reply or delegate as needed\n     *\n     * @param {Object} payload - payload coming in to be validated\n     * @returns {void}\n     */\n    processPayload(payload) {\n        var version = payload.jsonrpc;\n        var id = payload.id;\n        var method = payload.method;\n        var params = payload.params;\n        var result = payload.result;\n        var error = payload.error;\n        if (version !== '2.0') {\n            return this.sendError('invalidRequest', id, { info: 'jsonrpc must be exactly \"2.0\"' });\n        }\n        //Will either have a method (request), or result or error (response)\n        if (typeof method === 'string') {\n            var handler = this.parent.getHandler(method);\n            if (!handler) {\n                return this.sendError('methodNotFound', id, { info: 'no handler found for method ' + method });\n            }\n            if (id !== undefined && id !== null && typeof id !== 'string' && typeof id !== 'number') {\n                return this.sendError('invalidRequest', id, { info: 'id, if provided, must be one of: null, string, number' });\n            }\n            if (params !== undefined && params !== null && typeof params !== 'object') {\n                return this.sendError('invalidRequest', id, { info: 'params, if provided, must be one of: null, object, array' });\n            }\n            logger('message method %s', payload.method);\n            if (id === null || typeof id === 'undefined') {\n                return handler.call(this, params, emptyCallback);\n            }\n            var handlerCallback = function handlerCallback(err, reply) {\n                logger('handler got callback %j, %j', err, reply);\n                return this.sendResult(id, err, reply);\n            };\n            if (payload.stream)\n                params = this.buildStream(id, params);\n            return handler.call(this, params, handlerCallback.bind(this));\n        }\n        // needs a result or error at this point\n        if (result === undefined && error === undefined) {\n            return this.sendError('invalidRequest', id, { info: 'replies must have either a result or error' });\n        }\n        if (typeof id === 'string' || typeof id === 'number') {\n            logger('message id %s result %j error %j', id, result, error);\n            var responseHandler = this.responseHandlers[id];\n            if (!responseHandler) {\n                return this.sendError('invalidRequest', id, { info: 'no response handler for id ' + id });\n            }\n            delete this.responseHandlers[id];\n            if (payload.stream) {\n                result = this.buildStream(id, result);\n            }\n            return responseHandler.call(this, error, result);\n        }\n    }\n    /**\n     * Send a result message\n     *\n     * @param {String} id - id for the message\n     * @param {Object} error - error for the message\n     * @param {String|Object|Array|Number} result - result for the message\n     * @public\n     *\n     */\n    sendResult(id, error, result, isStream) {\n        logger('sendResult %s %s %j %j', id, isStream, error, result);\n        // Assert(id, 'Must have an id.');\n        // Assert(error || result, 'Must have an error or a result.');\n        if (error && result)\n            throw new Error('Cannot have both an error and a result');\n        var response = { id: id, stream: !!isStream || this.isStream(result) };\n        if (result) {\n            if (typeof result == 'object' && !Array.isArray(result)) {\n                var cleanResult = {};\n                Object.getOwnPropertyNames(result).forEach(p => {\n                    if (p[0] != '_')\n                        Object.defineProperty(cleanResult, p, Object.getOwnPropertyDescriptor(result, p));\n                });\n            }\n            else\n                cleanResult = result;\n            response.result = cleanResult;\n            if (response.stream) {\n                if (typeof id == 'undefined')\n                    throw new Error('streams are not supported without an id');\n                logger('result is stream');\n                this.sendStream(id, result);\n            }\n        }\n        else {\n            response.error = error;\n        }\n        this.sendRaw(response);\n    }\n    ;\n    /**\n     * Send a method message\n     *\n     * @param {String} method - method for the message\n     * @param {Array|Object|null} params  - params for the message\n     * @param {function} callback - optional callback for a reply from the message\n     * @public\n     */\n    sendMethod(method, params, callback) {\n        var id = uuid_1.v4();\n        if (typeof method !== 'string' || !method.length)\n            throw new Error('method must be a non-empty string');\n        if (params !== null && params !== undefined && !(params instanceof Object))\n            throw new Error('params, if provided,  must be an array, object or null');\n        logger('sendMethod %s', method, id);\n        if (callback) {\n            this.responseHandlers[id] = callback;\n        }\n        else {\n            this.responseHandlers[id] = emptyCallback;\n        }\n        var request = {\n            id: id,\n            method: method\n        };\n        if (params) {\n            if (this.isStream(params)) {\n                request.stream = true;\n                this.sendStream(id, params);\n            }\n            request.params = params;\n        }\n        this.sendRaw(request);\n    }\n    ;\n    /**\n     * Send an error message\n     *\n     * @param {Object} error - json-rpc error object (See Connection.errors)\n     * @param {String|Number|null} id - Optional id for reply\n     * @param {Any} data - Optional value for data portion of reply\n     * @public\n     */\n    sendError(error, id, data) {\n        logger('sendError %s', error);\n        //TODO if id matches a responseHandler, we should dump it right?\n        this.sendRaw(errors_1.default(error, id, data));\n    }\n    ;\n    /**\n     * Called when socket gets 'close' event\n     *\n     * @param {ConnectionError} error - optional error object of close wasn't expected\n     * @private\n     */\n    close(error) {\n        logger('close');\n        if (error && error !== 1000) {\n            debugger;\n            logger('close error %s', error.stack || error);\n        }\n        this.parent.disconnected(this); //Tell parent what went on so it can track connections\n        delete this.socket;\n    }\n    /**\n     * Hang up the current socket\n     *\n     * @param {function} callback - called when socket has been closed\n     * @public\n     */\n    hangup(callback) {\n        logger('hangup');\n        if (!this.socket)\n            throw new Error('Not connected');\n        if (typeof callback === 'function') {\n            var socket = this.socket;\n            socket.once('error', callback);\n            socket.once('close', callback);\n        }\n        this.socket.close();\n    }\n    ;\n    /**\n     * Incoming message handler\n     *\n     * @param {String} data - message from the websocket\n     * @returns {void}\n     * @private\n     */\n    message(data) {\n        //Validate as json first, easy reply if it's not\n        //If it's an array iterate and handle\n        //If it's an object handle\n        //name of handle function ?!?!?\n        logger('message %j', data);\n        var payload;\n        if (typeof (data) !== 'string') {\n            payload = jsonParse(data.data);\n        }\n        else if (typeof (data) == 'string') {\n            payload = jsonParse(data);\n        }\n        if (payload === null) {\n            console.error(data);\n            return errors_1.default('parseError');\n        }\n        //Object or array\n        if (payload instanceof Array) {\n            payload.forEach(this.processPayload, this);\n        }\n        else {\n            this.processPayload(payload);\n        }\n    }\n    ;\n}\nexports.Connection = Connection;\n//# sourceMappingURL=shared-connection.js.map","'use strict';\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst shared_client_1 = __importDefault(require(\"./shared-client\"));\nconst browser_1 = require(\"../browser\");\n/**\n * json-rpc-ws connection\n *\n * @constructor\n * @param {Socket} socket - web socket for this connection\n * @param {Object} parent - parent that controls this connection\n */\nclass WebSocketAdapter {\n    constructor(socket) {\n        this.socket = socket;\n    }\n    get open() {\n        return this.socket.readyState == WebSocket.OPEN;\n    }\n    ;\n    close() {\n        this.socket.close();\n    }\n    send(data) {\n        this.socket.send(data);\n    }\n    on(event, handler) {\n        this.socket.addEventListener(event, handler);\n    }\n    once(event, handler) {\n        this.socket.addEventListener(event, handler, { once: true });\n    }\n}\nexports.WebSocketAdapter = WebSocketAdapter;\nclass Client extends shared_client_1.default {\n    connection(socket) {\n        return new browser_1.Connection(socket, this);\n    }\n    constructor() {\n        super(Client.connect);\n    }\n    static connect(address) { return new WebSocketAdapter(new WebSocket(address.replace(/^http/, 'ws'))); }\n}\nexports.default = Client;\nconst debug_1 = __importDefault(require(\"debug\"));\nconst logger = debug_1.default('json-rpc-ws');\nfunction createClient() {\n    logger('create ws client');\n    return new Client();\n}\nexports.createClient = createClient;\n;\nexports.connect = Client.connect;\n//# sourceMappingURL=browser.js.map","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst shared_client_1 = __importDefault(require(\"../shared-client\"));\nconst debug_1 = __importDefault(require(\"debug\"));\nconst logger = debug_1.default('json-rpc-ws');\nclass Client extends shared_client_1.default {\n    constructor(socketConstructor) {\n        super(socketConstructor);\n        logger('new ws Client');\n    }\n}\nexports.default = Client;\n//# sourceMappingURL=shared-client.js.map","/* eslint-env browser */\n\n/**\n * This is the web browser implementation of `debug()`.\n */\n\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = localstorage();\n\n/**\n * Colors.\n */\n\nexports.colors = [\n\t'#0000CC',\n\t'#0000FF',\n\t'#0033CC',\n\t'#0033FF',\n\t'#0066CC',\n\t'#0066FF',\n\t'#0099CC',\n\t'#0099FF',\n\t'#00CC00',\n\t'#00CC33',\n\t'#00CC66',\n\t'#00CC99',\n\t'#00CCCC',\n\t'#00CCFF',\n\t'#3300CC',\n\t'#3300FF',\n\t'#3333CC',\n\t'#3333FF',\n\t'#3366CC',\n\t'#3366FF',\n\t'#3399CC',\n\t'#3399FF',\n\t'#33CC00',\n\t'#33CC33',\n\t'#33CC66',\n\t'#33CC99',\n\t'#33CCCC',\n\t'#33CCFF',\n\t'#6600CC',\n\t'#6600FF',\n\t'#6633CC',\n\t'#6633FF',\n\t'#66CC00',\n\t'#66CC33',\n\t'#9900CC',\n\t'#9900FF',\n\t'#9933CC',\n\t'#9933FF',\n\t'#99CC00',\n\t'#99CC33',\n\t'#CC0000',\n\t'#CC0033',\n\t'#CC0066',\n\t'#CC0099',\n\t'#CC00CC',\n\t'#CC00FF',\n\t'#CC3300',\n\t'#CC3333',\n\t'#CC3366',\n\t'#CC3399',\n\t'#CC33CC',\n\t'#CC33FF',\n\t'#CC6600',\n\t'#CC6633',\n\t'#CC9900',\n\t'#CC9933',\n\t'#CCCC00',\n\t'#CCCC33',\n\t'#FF0000',\n\t'#FF0033',\n\t'#FF0066',\n\t'#FF0099',\n\t'#FF00CC',\n\t'#FF00FF',\n\t'#FF3300',\n\t'#FF3333',\n\t'#FF3366',\n\t'#FF3399',\n\t'#FF33CC',\n\t'#FF33FF',\n\t'#FF6600',\n\t'#FF6633',\n\t'#FF9900',\n\t'#FF9933',\n\t'#FFCC00',\n\t'#FFCC33'\n];\n\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n\n// eslint-disable-next-line complexity\nfunction useColors() {\n\t// NB: In an Electron preload script, document will be defined but not fully\n\t// initialized. Since we know we're in Chrome, we'll just detect this case\n\t// explicitly\n\tif (typeof window !== 'undefined' && window.process && (window.process.type === 'renderer' || window.process.__nwjs)) {\n\t\treturn true;\n\t}\n\n\t// Internet Explorer and Edge do not support colors.\n\tif (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/)) {\n\t\treturn false;\n\t}\n\n\t// Is webkit? http://stackoverflow.com/a/16459606/376773\n\t// document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n\treturn (typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance) ||\n\t\t// Is firebug? http://stackoverflow.com/a/398120/376773\n\t\t(typeof window !== 'undefined' && window.console && (window.console.firebug || (window.console.exception && window.console.table))) ||\n\t\t// Is firefox >= v31?\n\t\t// https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31) ||\n\t\t// Double check webkit in userAgent just in case we are in a worker\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/));\n}\n\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n\targs[0] = (this.useColors ? '%c' : '') +\n\t\tthis.namespace +\n\t\t(this.useColors ? ' %c' : ' ') +\n\t\targs[0] +\n\t\t(this.useColors ? '%c ' : ' ') +\n\t\t'+' + module.exports.humanize(this.diff);\n\n\tif (!this.useColors) {\n\t\treturn;\n\t}\n\n\tconst c = 'color: ' + this.color;\n\targs.splice(1, 0, c, 'color: inherit');\n\n\t// The final \"%c\" is somewhat tricky, because there could be other\n\t// arguments passed either before or after the %c, so we need to\n\t// figure out the correct index to insert the CSS into\n\tlet index = 0;\n\tlet lastC = 0;\n\targs[0].replace(/%[a-zA-Z%]/g, match => {\n\t\tif (match === '%%') {\n\t\t\treturn;\n\t\t}\n\t\tindex++;\n\t\tif (match === '%c') {\n\t\t\t// We only are interested in the *last* %c\n\t\t\t// (the user may have provided their own)\n\t\t\tlastC = index;\n\t\t}\n\t});\n\n\targs.splice(lastC, 0, c);\n}\n\n/**\n * Invokes `console.log()` when available.\n * No-op when `console.log` is not a \"function\".\n *\n * @api public\n */\nfunction log(...args) {\n\t// This hackery is required for IE8/9, where\n\t// the `console.log` function doesn't have 'apply'\n\treturn typeof console === 'object' &&\n\t\tconsole.log &&\n\t\tconsole.log(...args);\n}\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\nfunction save(namespaces) {\n\ttry {\n\t\tif (namespaces) {\n\t\t\texports.storage.setItem('debug', namespaces);\n\t\t} else {\n\t\t\texports.storage.removeItem('debug');\n\t\t}\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\nfunction load() {\n\tlet r;\n\ttry {\n\t\tr = exports.storage.getItem('debug');\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n\n\t// If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n\tif (!r && typeof process !== 'undefined' && 'env' in process) {\n\t\tr = process.env.DEBUG;\n\t}\n\n\treturn r;\n}\n\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\nfunction localstorage() {\n\ttry {\n\t\t// TVMLKit (Apple TV JS Runtime) does not have a window object, just localStorage in the global context\n\t\t// The Browser also has localStorage in the global context.\n\t\treturn localStorage;\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\nmodule.exports = require('./common')(exports);\n\nconst {formatters} = module.exports;\n\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nformatters.j = function (v) {\n\ttry {\n\t\treturn JSON.stringify(v);\n\t} catch (error) {\n\t\treturn '[UnexpectedJSONParseError]: ' + error.message;\n\t}\n};\n","\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n */\n\nfunction setup(env) {\n\tcreateDebug.debug = createDebug;\n\tcreateDebug.default = createDebug;\n\tcreateDebug.coerce = coerce;\n\tcreateDebug.disable = disable;\n\tcreateDebug.enable = enable;\n\tcreateDebug.enabled = enabled;\n\tcreateDebug.humanize = require('ms');\n\n\tObject.keys(env).forEach(key => {\n\t\tcreateDebug[key] = env[key];\n\t});\n\n\t/**\n\t* Active `debug` instances.\n\t*/\n\tcreateDebug.instances = [];\n\n\t/**\n\t* The currently active debug mode names, and names to skip.\n\t*/\n\n\tcreateDebug.names = [];\n\tcreateDebug.skips = [];\n\n\t/**\n\t* Map of special \"%n\" handling functions, for the debug \"format\" argument.\n\t*\n\t* Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n\t*/\n\tcreateDebug.formatters = {};\n\n\t/**\n\t* Selects a color for a debug namespace\n\t* @param {String} namespace The namespace string for the for the debug instance to be colored\n\t* @return {Number|String} An ANSI color code for the given namespace\n\t* @api private\n\t*/\n\tfunction selectColor(namespace) {\n\t\tlet hash = 0;\n\n\t\tfor (let i = 0; i < namespace.length; i++) {\n\t\t\thash = ((hash << 5) - hash) + namespace.charCodeAt(i);\n\t\t\thash |= 0; // Convert to 32bit integer\n\t\t}\n\n\t\treturn createDebug.colors[Math.abs(hash) % createDebug.colors.length];\n\t}\n\tcreateDebug.selectColor = selectColor;\n\n\t/**\n\t* Create a debugger with the given `namespace`.\n\t*\n\t* @param {String} namespace\n\t* @return {Function}\n\t* @api public\n\t*/\n\tfunction createDebug(namespace) {\n\t\tlet prevTime;\n\n\t\tfunction debug(...args) {\n\t\t\t// Disabled?\n\t\t\tif (!debug.enabled) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst self = debug;\n\n\t\t\t// Set `diff` timestamp\n\t\t\tconst curr = Number(new Date());\n\t\t\tconst ms = curr - (prevTime || curr);\n\t\t\tself.diff = ms;\n\t\t\tself.prev = prevTime;\n\t\t\tself.curr = curr;\n\t\t\tprevTime = curr;\n\n\t\t\targs[0] = createDebug.coerce(args[0]);\n\n\t\t\tif (typeof args[0] !== 'string') {\n\t\t\t\t// Anything else let's inspect with %O\n\t\t\t\targs.unshift('%O');\n\t\t\t}\n\n\t\t\t// Apply any `formatters` transformations\n\t\t\tlet index = 0;\n\t\t\targs[0] = args[0].replace(/%([a-zA-Z%])/g, (match, format) => {\n\t\t\t\t// If we encounter an escaped % then don't increase the array index\n\t\t\t\tif (match === '%%') {\n\t\t\t\t\treturn match;\n\t\t\t\t}\n\t\t\t\tindex++;\n\t\t\t\tconst formatter = createDebug.formatters[format];\n\t\t\t\tif (typeof formatter === 'function') {\n\t\t\t\t\tconst val = args[index];\n\t\t\t\t\tmatch = formatter.call(self, val);\n\n\t\t\t\t\t// Now we need to remove `args[index]` since it's inlined in the `format`\n\t\t\t\t\targs.splice(index, 1);\n\t\t\t\t\tindex--;\n\t\t\t\t}\n\t\t\t\treturn match;\n\t\t\t});\n\n\t\t\t// Apply env-specific formatting (colors, etc.)\n\t\t\tcreateDebug.formatArgs.call(self, args);\n\n\t\t\tconst logFn = self.log || createDebug.log;\n\t\t\tlogFn.apply(self, args);\n\t\t}\n\n\t\tdebug.namespace = namespace;\n\t\tdebug.enabled = createDebug.enabled(namespace);\n\t\tdebug.useColors = createDebug.useColors();\n\t\tdebug.color = selectColor(namespace);\n\t\tdebug.destroy = destroy;\n\t\tdebug.extend = extend;\n\t\t// Debug.formatArgs = formatArgs;\n\t\t// debug.rawLog = rawLog;\n\n\t\t// env-specific initialization logic for debug instances\n\t\tif (typeof createDebug.init === 'function') {\n\t\t\tcreateDebug.init(debug);\n\t\t}\n\n\t\tcreateDebug.instances.push(debug);\n\n\t\treturn debug;\n\t}\n\n\tfunction destroy() {\n\t\tconst index = createDebug.instances.indexOf(this);\n\t\tif (index !== -1) {\n\t\t\tcreateDebug.instances.splice(index, 1);\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\tfunction extend(namespace, delimiter) {\n\t\tconst newDebug = createDebug(this.namespace + (typeof delimiter === 'undefined' ? ':' : delimiter) + namespace);\n\t\tnewDebug.log = this.log;\n\t\treturn newDebug;\n\t}\n\n\t/**\n\t* Enables a debug mode by namespaces. This can include modes\n\t* separated by a colon and wildcards.\n\t*\n\t* @param {String} namespaces\n\t* @api public\n\t*/\n\tfunction enable(namespaces) {\n\t\tcreateDebug.save(namespaces);\n\n\t\tcreateDebug.names = [];\n\t\tcreateDebug.skips = [];\n\n\t\tlet i;\n\t\tconst split = (typeof namespaces === 'string' ? namespaces : '').split(/[\\s,]+/);\n\t\tconst len = split.length;\n\n\t\tfor (i = 0; i < len; i++) {\n\t\t\tif (!split[i]) {\n\t\t\t\t// ignore empty strings\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tnamespaces = split[i].replace(/\\*/g, '.*?');\n\n\t\t\tif (namespaces[0] === '-') {\n\t\t\t\tcreateDebug.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));\n\t\t\t} else {\n\t\t\t\tcreateDebug.names.push(new RegExp('^' + namespaces + '$'));\n\t\t\t}\n\t\t}\n\n\t\tfor (i = 0; i < createDebug.instances.length; i++) {\n\t\t\tconst instance = createDebug.instances[i];\n\t\t\tinstance.enabled = createDebug.enabled(instance.namespace);\n\t\t}\n\t}\n\n\t/**\n\t* Disable debug output.\n\t*\n\t* @return {String} namespaces\n\t* @api public\n\t*/\n\tfunction disable() {\n\t\tconst namespaces = [\n\t\t\t...createDebug.names.map(toNamespace),\n\t\t\t...createDebug.skips.map(toNamespace).map(namespace => '-' + namespace)\n\t\t].join(',');\n\t\tcreateDebug.enable('');\n\t\treturn namespaces;\n\t}\n\n\t/**\n\t* Returns true if the given mode name is enabled, false otherwise.\n\t*\n\t* @param {String} name\n\t* @return {Boolean}\n\t* @api public\n\t*/\n\tfunction enabled(name) {\n\t\tif (name[name.length - 1] === '*') {\n\t\t\treturn true;\n\t\t}\n\n\t\tlet i;\n\t\tlet len;\n\n\t\tfor (i = 0, len = createDebug.skips.length; i < len; i++) {\n\t\t\tif (createDebug.skips[i].test(name)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\tfor (i = 0, len = createDebug.names.length; i < len; i++) {\n\t\t\tif (createDebug.names[i].test(name)) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n\n\t/**\n\t* Convert regexp to namespace\n\t*\n\t* @param {RegExp} regxep\n\t* @return {String} namespace\n\t* @api private\n\t*/\n\tfunction toNamespace(regexp) {\n\t\treturn regexp.toString()\n\t\t\t.substring(2, regexp.toString().length - 2)\n\t\t\t.replace(/\\.\\*\\?$/, '*');\n\t}\n\n\t/**\n\t* Coerce `val`.\n\t*\n\t* @param {Mixed} val\n\t* @return {Mixed}\n\t* @api private\n\t*/\n\tfunction coerce(val) {\n\t\tif (val instanceof Error) {\n\t\t\treturn val.stack || val.message;\n\t\t}\n\t\treturn val;\n\t}\n\n\tcreateDebug.enable(createDebug.load());\n\n\treturn createDebug;\n}\n\nmodule.exports = setup;\n","// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\n// getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation. Also,\n// find the complete implementation of crypto (msCrypto) on IE11.\nvar getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto) || typeof msCrypto !== 'undefined' && typeof msCrypto.getRandomValues === 'function' && msCrypto.getRandomValues.bind(msCrypto);\nvar rnds8 = new Uint8Array(16);\nexport default function rng() {\n  if (!getRandomValues) {\n    throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n  }\n\n  return getRandomValues(rnds8);\n}","/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\nvar byteToHex = [];\n\nfor (var i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).substr(1));\n}\n\nfunction bytesToUuid(buf, offset) {\n  var i = offset || 0;\n  var bth = byteToHex; // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n\n  return (bth[buf[i + 0]] + bth[buf[i + 1]] + bth[buf[i + 2]] + bth[buf[i + 3]] + '-' + bth[buf[i + 4]] + bth[buf[i + 5]] + '-' + bth[buf[i + 6]] + bth[buf[i + 7]] + '-' + bth[buf[i + 8]] + bth[buf[i + 9]] + '-' + bth[buf[i + 10]] + bth[buf[i + 11]] + bth[buf[i + 12]] + bth[buf[i + 13]] + bth[buf[i + 14]] + bth[buf[i + 15]]).toLowerCase();\n}\n\nexport default bytesToUuid;","import rng from './rng.js';\nimport bytesToUuid from './bytesToUuid.js'; // **`v1()` - Generate time-based UUID**\n//\n// Inspired by https://github.com/LiosK/UUID.js\n// and http://docs.python.org/library/uuid.html\n\nvar _nodeId;\n\nvar _clockseq; // Previous uuid creation time\n\n\nvar _lastMSecs = 0;\nvar _lastNSecs = 0; // See https://github.com/uuidjs/uuid for API details\n\nfunction v1(options, buf, offset) {\n  var i = buf && offset || 0;\n  var b = buf || [];\n  options = options || {};\n  var node = options.node || _nodeId;\n  var clockseq = options.clockseq !== undefined ? options.clockseq : _clockseq; // node and clockseq need to be initialized to random values if they're not\n  // specified.  We do this lazily to minimize issues related to insufficient\n  // system entropy.  See #189\n\n  if (node == null || clockseq == null) {\n    var seedBytes = options.random || (options.rng || rng)();\n\n    if (node == null) {\n      // Per 4.5, create and 48-bit node id, (47 random bits + multicast bit = 1)\n      node = _nodeId = [seedBytes[0] | 0x01, seedBytes[1], seedBytes[2], seedBytes[3], seedBytes[4], seedBytes[5]];\n    }\n\n    if (clockseq == null) {\n      // Per 4.2.2, randomize (14 bit) clockseq\n      clockseq = _clockseq = (seedBytes[6] << 8 | seedBytes[7]) & 0x3fff;\n    }\n  } // UUID timestamps are 100 nano-second units since the Gregorian epoch,\n  // (1582-10-15 00:00).  JSNumbers aren't precise enough for this, so\n  // time is handled internally as 'msecs' (integer milliseconds) and 'nsecs'\n  // (100-nanoseconds offset from msecs) since unix epoch, 1970-01-01 00:00.\n\n\n  var msecs = options.msecs !== undefined ? options.msecs : Date.now(); // Per 4.2.1.2, use count of uuid's generated during the current clock\n  // cycle to simulate higher resolution clock\n\n  var nsecs = options.nsecs !== undefined ? options.nsecs : _lastNSecs + 1; // Time since last uuid creation (in msecs)\n\n  var dt = msecs - _lastMSecs + (nsecs - _lastNSecs) / 10000; // Per 4.2.1.2, Bump clockseq on clock regression\n\n  if (dt < 0 && options.clockseq === undefined) {\n    clockseq = clockseq + 1 & 0x3fff;\n  } // Reset nsecs if clock regresses (new clockseq) or we've moved onto a new\n  // time interval\n\n\n  if ((dt < 0 || msecs > _lastMSecs) && options.nsecs === undefined) {\n    nsecs = 0;\n  } // Per 4.2.1.2 Throw error if too many uuids are requested\n\n\n  if (nsecs >= 10000) {\n    throw new Error(\"uuid.v1(): Can't create more than 10M uuids/sec\");\n  }\n\n  _lastMSecs = msecs;\n  _lastNSecs = nsecs;\n  _clockseq = clockseq; // Per 4.1.4 - Convert from unix epoch to Gregorian epoch\n\n  msecs += 12219292800000; // `time_low`\n\n  var tl = ((msecs & 0xfffffff) * 10000 + nsecs) % 0x100000000;\n  b[i++] = tl >>> 24 & 0xff;\n  b[i++] = tl >>> 16 & 0xff;\n  b[i++] = tl >>> 8 & 0xff;\n  b[i++] = tl & 0xff; // `time_mid`\n\n  var tmh = msecs / 0x100000000 * 10000 & 0xfffffff;\n  b[i++] = tmh >>> 8 & 0xff;\n  b[i++] = tmh & 0xff; // `time_high_and_version`\n\n  b[i++] = tmh >>> 24 & 0xf | 0x10; // include version\n\n  b[i++] = tmh >>> 16 & 0xff; // `clock_seq_hi_and_reserved` (Per 4.2.2 - include variant)\n\n  b[i++] = clockseq >>> 8 | 0x80; // `clock_seq_low`\n\n  b[i++] = clockseq & 0xff; // `node`\n\n  for (var n = 0; n < 6; ++n) {\n    b[i + n] = node[n];\n  }\n\n  return buf || bytesToUuid(b);\n}\n\nexport default v1;","import bytesToUuid from './bytesToUuid.js';\n\nfunction uuidToBytes(uuid) {\n  // Note: We assume we're being passed a valid uuid string\n  var bytes = [];\n  uuid.replace(/[a-fA-F0-9]{2}/g, function (hex) {\n    bytes.push(parseInt(hex, 16));\n  });\n  return bytes;\n}\n\nfunction stringToBytes(str) {\n  str = unescape(encodeURIComponent(str)); // UTF8 escape\n\n  var bytes = [];\n\n  for (var i = 0; i < str.length; ++i) {\n    bytes.push(str.charCodeAt(i));\n  }\n\n  return bytes;\n}\n\nexport var DNS = '6ba7b810-9dad-11d1-80b4-00c04fd430c8';\nexport var URL = '6ba7b811-9dad-11d1-80b4-00c04fd430c8';\nexport default function (name, version, hashfunc) {\n  function generateUUID(value, namespace, buf, offset) {\n    var off = buf && offset || 0;\n    if (typeof value === 'string') value = stringToBytes(value);\n    if (typeof namespace === 'string') namespace = uuidToBytes(namespace);\n\n    if (!Array.isArray(value)) {\n      throw TypeError('value must be an array of bytes');\n    }\n\n    if (!Array.isArray(namespace) || namespace.length !== 16) {\n      throw TypeError('namespace must be uuid string or an Array of 16 byte values');\n    } // Per 4.3\n\n\n    var bytes = hashfunc(namespace.concat(value));\n    bytes[6] = bytes[6] & 0x0f | version;\n    bytes[8] = bytes[8] & 0x3f | 0x80;\n\n    if (buf) {\n      for (var idx = 0; idx < 16; ++idx) {\n        buf[off + idx] = bytes[idx];\n      }\n    }\n\n    return buf || bytesToUuid(bytes);\n  } // Function#name is not settable on some platforms (#270)\n\n\n  try {\n    generateUUID.name = name; // eslint-disable-next-line no-empty\n  } catch (err) {} // For CommonJS default export support\n\n\n  generateUUID.DNS = DNS;\n  generateUUID.URL = URL;\n  return generateUUID;\n}","/*\n * Browser-compatible JavaScript MD5\n *\n * Modification of JavaScript MD5\n * https://github.com/blueimp/JavaScript-MD5\n *\n * Copyright 2011, Sebastian Tschan\n * https://blueimp.net\n *\n * Licensed under the MIT license:\n * https://opensource.org/licenses/MIT\n *\n * Based on\n * A JavaScript implementation of the RSA Data Security, Inc. MD5 Message\n * Digest Algorithm, as defined in RFC 1321.\n * Version 2.2 Copyright (C) Paul Johnston 1999 - 2009\n * Other contributors: Greg Holt, Andrew Kepert, Ydnar, Lostinet\n * Distributed under the BSD License\n * See http://pajhome.org.uk/crypt/md5 for more info.\n */\nfunction md5(bytes) {\n  if (typeof bytes === 'string') {\n    var msg = unescape(encodeURIComponent(bytes)); // UTF8 escape\n\n    bytes = new Uint8Array(msg.length);\n\n    for (var i = 0; i < msg.length; ++i) {\n      bytes[i] = msg.charCodeAt(i);\n    }\n  }\n\n  return md5ToHexEncodedArray(wordsToMd5(bytesToWords(bytes), bytes.length * 8));\n}\n/*\n * Convert an array of little-endian words to an array of bytes\n */\n\n\nfunction md5ToHexEncodedArray(input) {\n  var output = [];\n  var length32 = input.length * 32;\n  var hexTab = '0123456789abcdef';\n\n  for (var i = 0; i < length32; i += 8) {\n    var x = input[i >> 5] >>> i % 32 & 0xff;\n    var hex = parseInt(hexTab.charAt(x >>> 4 & 0x0f) + hexTab.charAt(x & 0x0f), 16);\n    output.push(hex);\n  }\n\n  return output;\n}\n/**\n * Calculate output length with padding and bit length\n */\n\n\nfunction getOutputLength(inputLength8) {\n  return (inputLength8 + 64 >>> 9 << 4) + 14 + 1;\n}\n/*\n * Calculate the MD5 of an array of little-endian words, and a bit length.\n */\n\n\nfunction wordsToMd5(x, len) {\n  /* append padding */\n  x[len >> 5] |= 0x80 << len % 32;\n  x[getOutputLength(len) - 1] = len;\n  var a = 1732584193;\n  var b = -271733879;\n  var c = -1732584194;\n  var d = 271733878;\n\n  for (var i = 0; i < x.length; i += 16) {\n    var olda = a;\n    var oldb = b;\n    var oldc = c;\n    var oldd = d;\n    a = md5ff(a, b, c, d, x[i], 7, -680876936);\n    d = md5ff(d, a, b, c, x[i + 1], 12, -389564586);\n    c = md5ff(c, d, a, b, x[i + 2], 17, 606105819);\n    b = md5ff(b, c, d, a, x[i + 3], 22, -1044525330);\n    a = md5ff(a, b, c, d, x[i + 4], 7, -176418897);\n    d = md5ff(d, a, b, c, x[i + 5], 12, 1200080426);\n    c = md5ff(c, d, a, b, x[i + 6], 17, -1473231341);\n    b = md5ff(b, c, d, a, x[i + 7], 22, -45705983);\n    a = md5ff(a, b, c, d, x[i + 8], 7, 1770035416);\n    d = md5ff(d, a, b, c, x[i + 9], 12, -1958414417);\n    c = md5ff(c, d, a, b, x[i + 10], 17, -42063);\n    b = md5ff(b, c, d, a, x[i + 11], 22, -1990404162);\n    a = md5ff(a, b, c, d, x[i + 12], 7, 1804603682);\n    d = md5ff(d, a, b, c, x[i + 13], 12, -40341101);\n    c = md5ff(c, d, a, b, x[i + 14], 17, -1502002290);\n    b = md5ff(b, c, d, a, x[i + 15], 22, 1236535329);\n    a = md5gg(a, b, c, d, x[i + 1], 5, -165796510);\n    d = md5gg(d, a, b, c, x[i + 6], 9, -1069501632);\n    c = md5gg(c, d, a, b, x[i + 11], 14, 643717713);\n    b = md5gg(b, c, d, a, x[i], 20, -373897302);\n    a = md5gg(a, b, c, d, x[i + 5], 5, -701558691);\n    d = md5gg(d, a, b, c, x[i + 10], 9, 38016083);\n    c = md5gg(c, d, a, b, x[i + 15], 14, -660478335);\n    b = md5gg(b, c, d, a, x[i + 4], 20, -405537848);\n    a = md5gg(a, b, c, d, x[i + 9], 5, 568446438);\n    d = md5gg(d, a, b, c, x[i + 14], 9, -1019803690);\n    c = md5gg(c, d, a, b, x[i + 3], 14, -187363961);\n    b = md5gg(b, c, d, a, x[i + 8], 20, 1163531501);\n    a = md5gg(a, b, c, d, x[i + 13], 5, -1444681467);\n    d = md5gg(d, a, b, c, x[i + 2], 9, -51403784);\n    c = md5gg(c, d, a, b, x[i + 7], 14, 1735328473);\n    b = md5gg(b, c, d, a, x[i + 12], 20, -1926607734);\n    a = md5hh(a, b, c, d, x[i + 5], 4, -378558);\n    d = md5hh(d, a, b, c, x[i + 8], 11, -2022574463);\n    c = md5hh(c, d, a, b, x[i + 11], 16, 1839030562);\n    b = md5hh(b, c, d, a, x[i + 14], 23, -35309556);\n    a = md5hh(a, b, c, d, x[i + 1], 4, -1530992060);\n    d = md5hh(d, a, b, c, x[i + 4], 11, 1272893353);\n    c = md5hh(c, d, a, b, x[i + 7], 16, -155497632);\n    b = md5hh(b, c, d, a, x[i + 10], 23, -1094730640);\n    a = md5hh(a, b, c, d, x[i + 13], 4, 681279174);\n    d = md5hh(d, a, b, c, x[i], 11, -358537222);\n    c = md5hh(c, d, a, b, x[i + 3], 16, -722521979);\n    b = md5hh(b, c, d, a, x[i + 6], 23, 76029189);\n    a = md5hh(a, b, c, d, x[i + 9], 4, -640364487);\n    d = md5hh(d, a, b, c, x[i + 12], 11, -421815835);\n    c = md5hh(c, d, a, b, x[i + 15], 16, 530742520);\n    b = md5hh(b, c, d, a, x[i + 2], 23, -995338651);\n    a = md5ii(a, b, c, d, x[i], 6, -198630844);\n    d = md5ii(d, a, b, c, x[i + 7], 10, 1126891415);\n    c = md5ii(c, d, a, b, x[i + 14], 15, -1416354905);\n    b = md5ii(b, c, d, a, x[i + 5], 21, -57434055);\n    a = md5ii(a, b, c, d, x[i + 12], 6, 1700485571);\n    d = md5ii(d, a, b, c, x[i + 3], 10, -1894986606);\n    c = md5ii(c, d, a, b, x[i + 10], 15, -1051523);\n    b = md5ii(b, c, d, a, x[i + 1], 21, -2054922799);\n    a = md5ii(a, b, c, d, x[i + 8], 6, 1873313359);\n    d = md5ii(d, a, b, c, x[i + 15], 10, -30611744);\n    c = md5ii(c, d, a, b, x[i + 6], 15, -1560198380);\n    b = md5ii(b, c, d, a, x[i + 13], 21, 1309151649);\n    a = md5ii(a, b, c, d, x[i + 4], 6, -145523070);\n    d = md5ii(d, a, b, c, x[i + 11], 10, -1120210379);\n    c = md5ii(c, d, a, b, x[i + 2], 15, 718787259);\n    b = md5ii(b, c, d, a, x[i + 9], 21, -343485551);\n    a = safeAdd(a, olda);\n    b = safeAdd(b, oldb);\n    c = safeAdd(c, oldc);\n    d = safeAdd(d, oldd);\n  }\n\n  return [a, b, c, d];\n}\n/*\n * Convert an array bytes to an array of little-endian words\n * Characters >255 have their high-byte silently ignored.\n */\n\n\nfunction bytesToWords(input) {\n  if (input.length === 0) {\n    return [];\n  }\n\n  var length8 = input.length * 8;\n  var output = new Uint32Array(getOutputLength(length8));\n\n  for (var i = 0; i < length8; i += 8) {\n    output[i >> 5] |= (input[i / 8] & 0xff) << i % 32;\n  }\n\n  return output;\n}\n/*\n * Add integers, wrapping at 2^32. This uses 16-bit operations internally\n * to work around bugs in some JS interpreters.\n */\n\n\nfunction safeAdd(x, y) {\n  var lsw = (x & 0xffff) + (y & 0xffff);\n  var msw = (x >> 16) + (y >> 16) + (lsw >> 16);\n  return msw << 16 | lsw & 0xffff;\n}\n/*\n * Bitwise rotate a 32-bit number to the left.\n */\n\n\nfunction bitRotateLeft(num, cnt) {\n  return num << cnt | num >>> 32 - cnt;\n}\n/*\n * These functions implement the four basic operations the algorithm uses.\n */\n\n\nfunction md5cmn(q, a, b, x, s, t) {\n  return safeAdd(bitRotateLeft(safeAdd(safeAdd(a, q), safeAdd(x, t)), s), b);\n}\n\nfunction md5ff(a, b, c, d, x, s, t) {\n  return md5cmn(b & c | ~b & d, a, b, x, s, t);\n}\n\nfunction md5gg(a, b, c, d, x, s, t) {\n  return md5cmn(b & d | c & ~d, a, b, x, s, t);\n}\n\nfunction md5hh(a, b, c, d, x, s, t) {\n  return md5cmn(b ^ c ^ d, a, b, x, s, t);\n}\n\nfunction md5ii(a, b, c, d, x, s, t) {\n  return md5cmn(c ^ (b | ~d), a, b, x, s, t);\n}\n\nexport default md5;","import v35 from './v35.js';\nimport md5 from './md5.js';\nvar v3 = v35('v3', 0x30, md5);\nexport default v3;","import rng from './rng.js';\nimport bytesToUuid from './bytesToUuid.js';\n\nfunction v4(options, buf, offset) {\n  if (typeof options === 'string') {\n    buf = options === 'binary' ? new Uint8Array(16) : null;\n    options = null;\n  }\n\n  options = options || {};\n  var rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    var start = offset || 0;\n\n    for (var i = 0; i < 16; ++i) {\n      buf[start + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return bytesToUuid(rnds);\n}\n\nexport default v4;","// Adapted from Chris Veness' SHA1 code at\n// http://www.movable-type.co.uk/scripts/sha1.html\nfunction f(s, x, y, z) {\n  switch (s) {\n    case 0:\n      return x & y ^ ~x & z;\n\n    case 1:\n      return x ^ y ^ z;\n\n    case 2:\n      return x & y ^ x & z ^ y & z;\n\n    case 3:\n      return x ^ y ^ z;\n  }\n}\n\nfunction ROTL(x, n) {\n  return x << n | x >>> 32 - n;\n}\n\nfunction sha1(bytes) {\n  var K = [0x5a827999, 0x6ed9eba1, 0x8f1bbcdc, 0xca62c1d6];\n  var H = [0x67452301, 0xefcdab89, 0x98badcfe, 0x10325476, 0xc3d2e1f0];\n\n  if (typeof bytes === 'string') {\n    var msg = unescape(encodeURIComponent(bytes)); // UTF8 escape\n\n    bytes = [];\n\n    for (var i = 0; i < msg.length; ++i) {\n      bytes.push(msg.charCodeAt(i));\n    }\n  }\n\n  bytes.push(0x80);\n  var l = bytes.length / 4 + 2;\n  var N = Math.ceil(l / 16);\n  var M = new Array(N);\n\n  for (var _i = 0; _i < N; ++_i) {\n    var arr = new Uint32Array(16);\n\n    for (var j = 0; j < 16; ++j) {\n      arr[j] = bytes[_i * 64 + j * 4] << 24 | bytes[_i * 64 + j * 4 + 1] << 16 | bytes[_i * 64 + j * 4 + 2] << 8 | bytes[_i * 64 + j * 4 + 3];\n    }\n\n    M[_i] = arr;\n  }\n\n  M[N - 1][14] = (bytes.length - 1) * 8 / Math.pow(2, 32);\n  M[N - 1][14] = Math.floor(M[N - 1][14]);\n  M[N - 1][15] = (bytes.length - 1) * 8 & 0xffffffff;\n\n  for (var _i2 = 0; _i2 < N; ++_i2) {\n    var W = new Uint32Array(80);\n\n    for (var t = 0; t < 16; ++t) {\n      W[t] = M[_i2][t];\n    }\n\n    for (var _t = 16; _t < 80; ++_t) {\n      W[_t] = ROTL(W[_t - 3] ^ W[_t - 8] ^ W[_t - 14] ^ W[_t - 16], 1);\n    }\n\n    var a = H[0];\n    var b = H[1];\n    var c = H[2];\n    var d = H[3];\n    var e = H[4];\n\n    for (var _t2 = 0; _t2 < 80; ++_t2) {\n      var s = Math.floor(_t2 / 20);\n      var T = ROTL(a, 5) + f(s, b, c, d) + e + K[s] + W[_t2] >>> 0;\n      e = d;\n      d = c;\n      c = ROTL(b, 30) >>> 0;\n      b = a;\n      a = T;\n    }\n\n    H[0] = H[0] + a >>> 0;\n    H[1] = H[1] + b >>> 0;\n    H[2] = H[2] + c >>> 0;\n    H[3] = H[3] + d >>> 0;\n    H[4] = H[4] + e >>> 0;\n  }\n\n  return [H[0] >> 24 & 0xff, H[0] >> 16 & 0xff, H[0] >> 8 & 0xff, H[0] & 0xff, H[1] >> 24 & 0xff, H[1] >> 16 & 0xff, H[1] >> 8 & 0xff, H[1] & 0xff, H[2] >> 24 & 0xff, H[2] >> 16 & 0xff, H[2] >> 8 & 0xff, H[2] & 0xff, H[3] >> 24 & 0xff, H[3] >> 16 & 0xff, H[3] >> 8 & 0xff, H[3] & 0xff, H[4] >> 24 & 0xff, H[4] >> 16 & 0xff, H[4] >> 8 & 0xff, H[4] & 0xff];\n}\n\nexport default sha1;","import v35 from './v35.js';\nimport sha1 from './sha1.js';\nvar v5 = v35('v5', 0x50, sha1);\nexport default v5;"],"sourceRoot":""}