{"version":3,"sources":["webpack://@akala/json-rpc-ws/webpack/universalModuleDefinition","webpack://@akala/json-rpc-ws/webpack/bootstrap","webpack://@akala/json-rpc-ws/C:/Dev/lerna-akala/node_modules/debug/node_modules/ms/index.js","webpack://@akala/json-rpc-ws/C:/Dev/lerna-akala/node_modules/debug/src/browser.js","webpack://@akala/json-rpc-ws/C:/Dev/lerna-akala/node_modules/debug/src/common.js","webpack://@akala/json-rpc-ws/./lib/base.js","webpack://@akala/json-rpc-ws/./lib/browser.js","webpack://@akala/json-rpc-ws/./lib/errors.js","webpack://@akala/json-rpc-ws/./lib/shared-client.js","webpack://@akala/json-rpc-ws/./lib/shared-connection.js","webpack://@akala/json-rpc-ws/./lib/ws/browser.js","webpack://@akala/json-rpc-ws/./lib/ws/shared-client.js","webpack://@akala/json-rpc-ws/./node_modules/uuid/dist/esm-browser/rng.js","webpack://@akala/json-rpc-ws/./node_modules/uuid/dist/esm-browser/bytesToUuid.js","webpack://@akala/json-rpc-ws/./node_modules/uuid/dist/esm-browser/v1.js","webpack://@akala/json-rpc-ws/./node_modules/uuid/dist/esm-browser/v35.js","webpack://@akala/json-rpc-ws/./node_modules/uuid/dist/esm-browser/md5.js","webpack://@akala/json-rpc-ws/./node_modules/uuid/dist/esm-browser/v3.js","webpack://@akala/json-rpc-ws/./node_modules/uuid/dist/esm-browser/v4.js","webpack://@akala/json-rpc-ws/./node_modules/uuid/dist/esm-browser/sha1.js","webpack://@akala/json-rpc-ws/./node_modules/uuid/dist/esm-browser/v5.js"],"names":["root","factory","exports","module","define","amd","this","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","h","plural","ms","msAbs","isPlural","Math","round","val","options","type","length","str","String","match","exec","parseFloat","toLowerCase","parse","isFinite","long","abs","fmtLong","fmtShort","Error","JSON","stringify","log","args","console","formatArgs","useColors","namespace","humanize","diff","color","splice","index","lastC","replace","save","namespaces","storage","setItem","removeItem","error","load","getItem","process","env","DEBUG","window","__nwjs","navigator","userAgent","document","documentElement","style","WebkitAppearance","firebug","exception","table","parseInt","RegExp","$1","localStorage","localstorage","colors","formatters","j","v","message","selectColor","hash","charCodeAt","createDebug","prevTime","debug","enabled","self","curr","Number","Date","prev","coerce","unshift","format","formatter","apply","destroy","extend","init","instances","push","indexOf","delimiter","newDebug","toNamespace","regexp","toString","substring","default","stack","disable","names","map","skips","join","enable","split","len","substr","instance","test","keys","forEach","uuid_1","logger","Base","id","v4","browser","requestHandlers","connections","method","handler","socket","connection","undefined","close","shared_connection_1","errors_1","Errors","browser_1","Client","createClient","ByobReader","stream","reader","DefaultReader","releaseLock","emitError","closed","reason","cancel","chunks","view","read","then","done","byteOffset","byteLength","buffer","Deferred","Promise","super","resolve","reject","_resolve","_reject","_value","_reason","next","totalLength","reduce","chunk","Uint8Array","start","finally","Readable","_reader","target","abort","locked","writable","readable","pipeTo","dest","writer","getWriter","shift","write","preventClose","Connection","parent","result","getReader","open","sendRaw","event","isBuffer","data","src","getOwnPropertyNames","getOwnPropertyDescriptor","prop","f","responseHandlers","parseError","code","invalidRequest","methodNotFound","invalidParams","internalError","serverError","errors","payload","base_1","socketConstructor","address","callback","isConnected","opened","once","connected","err","ids","getConnection","hangup","params","sendMethod","jsonParse","emptyCallback","send","on","jsonrpc","version","sendError","info","getHandler","buildStream","reply","sendResult","responseHandler","isStream","response","sendStream","request","disconnected","Array","processPayload","shared_client_1","WebSocketAdapter","readyState","WebSocket","OPEN","addEventListener","getRandomValues","crypto","msCrypto","rnds8","rng","byteToHex","_nodeId","_clockseq","buf","offset","bth","_lastMSecs","_lastNSecs","b","node","clockseq","seedBytes","random","msecs","getTime","nsecs","dt","tl","tmh","generateUUID","off","unescape","encodeURIComponent","bytes","stringToBytes","uuid","hex","uuidToBytes","isArray","TypeError","hashfunc","concat","idx","DNS","URL","safeAdd","x","y","lsw","md5cmn","q","a","num","cnt","md5ff","md5gg","md5hh","md5ii","v35","msg","input","output","length32","charAt","md5ToHexEncodedArray","olda","oldb","oldc","oldd","wordsToMd5","length8","bytesToWords","rnds","ii","z","ROTL","K","H","N","ceil","M","pow","floor","W","e","T"],"mappings":"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","file":"browser.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"@akala/json-rpc-ws\"] = factory();\n\telse\n\t\troot[\"@akala/json-rpc-ws\"] = factory();\n})(this, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./lib/browser.js\");\n","/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar w = d * 7;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} [options]\n * @throws {Error} throw an error if val is not a non-empty string or a number\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function(val, options) {\n  options = options || {};\n  var type = typeof val;\n  if (type === 'string' && val.length > 0) {\n    return parse(val);\n  } else if (type === 'number' && isFinite(val)) {\n    return options.long ? fmtLong(val) : fmtShort(val);\n  }\n  throw new Error(\n    'val is not a non-empty string or a valid number. val=' +\n      JSON.stringify(val)\n  );\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = String(str);\n  if (str.length > 100) {\n    return;\n  }\n  var match = /^(-?(?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(\n    str\n  );\n  if (!match) {\n    return;\n  }\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'weeks':\n    case 'week':\n    case 'w':\n      return n * w;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n    default:\n      return undefined;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtShort(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return Math.round(ms / d) + 'd';\n  }\n  if (msAbs >= h) {\n    return Math.round(ms / h) + 'h';\n  }\n  if (msAbs >= m) {\n    return Math.round(ms / m) + 'm';\n  }\n  if (msAbs >= s) {\n    return Math.round(ms / s) + 's';\n  }\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtLong(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return plural(ms, msAbs, d, 'day');\n  }\n  if (msAbs >= h) {\n    return plural(ms, msAbs, h, 'hour');\n  }\n  if (msAbs >= m) {\n    return plural(ms, msAbs, m, 'minute');\n  }\n  if (msAbs >= s) {\n    return plural(ms, msAbs, s, 'second');\n  }\n  return ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, msAbs, n, name) {\n  var isPlural = msAbs >= n * 1.5;\n  return Math.round(ms / n) + ' ' + name + (isPlural ? 's' : '');\n}\n","/* eslint-env browser */\n\n/**\n * This is the web browser implementation of `debug()`.\n */\n\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = localstorage();\n\n/**\n * Colors.\n */\n\nexports.colors = [\n\t'#0000CC',\n\t'#0000FF',\n\t'#0033CC',\n\t'#0033FF',\n\t'#0066CC',\n\t'#0066FF',\n\t'#0099CC',\n\t'#0099FF',\n\t'#00CC00',\n\t'#00CC33',\n\t'#00CC66',\n\t'#00CC99',\n\t'#00CCCC',\n\t'#00CCFF',\n\t'#3300CC',\n\t'#3300FF',\n\t'#3333CC',\n\t'#3333FF',\n\t'#3366CC',\n\t'#3366FF',\n\t'#3399CC',\n\t'#3399FF',\n\t'#33CC00',\n\t'#33CC33',\n\t'#33CC66',\n\t'#33CC99',\n\t'#33CCCC',\n\t'#33CCFF',\n\t'#6600CC',\n\t'#6600FF',\n\t'#6633CC',\n\t'#6633FF',\n\t'#66CC00',\n\t'#66CC33',\n\t'#9900CC',\n\t'#9900FF',\n\t'#9933CC',\n\t'#9933FF',\n\t'#99CC00',\n\t'#99CC33',\n\t'#CC0000',\n\t'#CC0033',\n\t'#CC0066',\n\t'#CC0099',\n\t'#CC00CC',\n\t'#CC00FF',\n\t'#CC3300',\n\t'#CC3333',\n\t'#CC3366',\n\t'#CC3399',\n\t'#CC33CC',\n\t'#CC33FF',\n\t'#CC6600',\n\t'#CC6633',\n\t'#CC9900',\n\t'#CC9933',\n\t'#CCCC00',\n\t'#CCCC33',\n\t'#FF0000',\n\t'#FF0033',\n\t'#FF0066',\n\t'#FF0099',\n\t'#FF00CC',\n\t'#FF00FF',\n\t'#FF3300',\n\t'#FF3333',\n\t'#FF3366',\n\t'#FF3399',\n\t'#FF33CC',\n\t'#FF33FF',\n\t'#FF6600',\n\t'#FF6633',\n\t'#FF9900',\n\t'#FF9933',\n\t'#FFCC00',\n\t'#FFCC33'\n];\n\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n\n// eslint-disable-next-line complexity\nfunction useColors() {\n\t// NB: In an Electron preload script, document will be defined but not fully\n\t// initialized. Since we know we're in Chrome, we'll just detect this case\n\t// explicitly\n\tif (typeof window !== 'undefined' && window.process && (window.process.type === 'renderer' || window.process.__nwjs)) {\n\t\treturn true;\n\t}\n\n\t// Internet Explorer and Edge do not support colors.\n\tif (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/)) {\n\t\treturn false;\n\t}\n\n\t// Is webkit? http://stackoverflow.com/a/16459606/376773\n\t// document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n\treturn (typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance) ||\n\t\t// Is firebug? http://stackoverflow.com/a/398120/376773\n\t\t(typeof window !== 'undefined' && window.console && (window.console.firebug || (window.console.exception && window.console.table))) ||\n\t\t// Is firefox >= v31?\n\t\t// https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31) ||\n\t\t// Double check webkit in userAgent just in case we are in a worker\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/));\n}\n\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n\targs[0] = (this.useColors ? '%c' : '') +\n\t\tthis.namespace +\n\t\t(this.useColors ? ' %c' : ' ') +\n\t\targs[0] +\n\t\t(this.useColors ? '%c ' : ' ') +\n\t\t'+' + module.exports.humanize(this.diff);\n\n\tif (!this.useColors) {\n\t\treturn;\n\t}\n\n\tconst c = 'color: ' + this.color;\n\targs.splice(1, 0, c, 'color: inherit');\n\n\t// The final \"%c\" is somewhat tricky, because there could be other\n\t// arguments passed either before or after the %c, so we need to\n\t// figure out the correct index to insert the CSS into\n\tlet index = 0;\n\tlet lastC = 0;\n\targs[0].replace(/%[a-zA-Z%]/g, match => {\n\t\tif (match === '%%') {\n\t\t\treturn;\n\t\t}\n\t\tindex++;\n\t\tif (match === '%c') {\n\t\t\t// We only are interested in the *last* %c\n\t\t\t// (the user may have provided their own)\n\t\t\tlastC = index;\n\t\t}\n\t});\n\n\targs.splice(lastC, 0, c);\n}\n\n/**\n * Invokes `console.log()` when available.\n * No-op when `console.log` is not a \"function\".\n *\n * @api public\n */\nfunction log(...args) {\n\t// This hackery is required for IE8/9, where\n\t// the `console.log` function doesn't have 'apply'\n\treturn typeof console === 'object' &&\n\t\tconsole.log &&\n\t\tconsole.log(...args);\n}\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\nfunction save(namespaces) {\n\ttry {\n\t\tif (namespaces) {\n\t\t\texports.storage.setItem('debug', namespaces);\n\t\t} else {\n\t\t\texports.storage.removeItem('debug');\n\t\t}\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\nfunction load() {\n\tlet r;\n\ttry {\n\t\tr = exports.storage.getItem('debug');\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n\n\t// If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n\tif (!r && typeof process !== 'undefined' && 'env' in process) {\n\t\tr = process.env.DEBUG;\n\t}\n\n\treturn r;\n}\n\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\nfunction localstorage() {\n\ttry {\n\t\t// TVMLKit (Apple TV JS Runtime) does not have a window object, just localStorage in the global context\n\t\t// The Browser also has localStorage in the global context.\n\t\treturn localStorage;\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\nmodule.exports = require('./common')(exports);\n\nconst {formatters} = module.exports;\n\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nformatters.j = function (v) {\n\ttry {\n\t\treturn JSON.stringify(v);\n\t} catch (error) {\n\t\treturn '[UnexpectedJSONParseError]: ' + error.message;\n\t}\n};\n","\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n */\n\nfunction setup(env) {\n\tcreateDebug.debug = createDebug;\n\tcreateDebug.default = createDebug;\n\tcreateDebug.coerce = coerce;\n\tcreateDebug.disable = disable;\n\tcreateDebug.enable = enable;\n\tcreateDebug.enabled = enabled;\n\tcreateDebug.humanize = require('ms');\n\n\tObject.keys(env).forEach(key => {\n\t\tcreateDebug[key] = env[key];\n\t});\n\n\t/**\n\t* Active `debug` instances.\n\t*/\n\tcreateDebug.instances = [];\n\n\t/**\n\t* The currently active debug mode names, and names to skip.\n\t*/\n\n\tcreateDebug.names = [];\n\tcreateDebug.skips = [];\n\n\t/**\n\t* Map of special \"%n\" handling functions, for the debug \"format\" argument.\n\t*\n\t* Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n\t*/\n\tcreateDebug.formatters = {};\n\n\t/**\n\t* Selects a color for a debug namespace\n\t* @param {String} namespace The namespace string for the for the debug instance to be colored\n\t* @return {Number|String} An ANSI color code for the given namespace\n\t* @api private\n\t*/\n\tfunction selectColor(namespace) {\n\t\tlet hash = 0;\n\n\t\tfor (let i = 0; i < namespace.length; i++) {\n\t\t\thash = ((hash << 5) - hash) + namespace.charCodeAt(i);\n\t\t\thash |= 0; // Convert to 32bit integer\n\t\t}\n\n\t\treturn createDebug.colors[Math.abs(hash) % createDebug.colors.length];\n\t}\n\tcreateDebug.selectColor = selectColor;\n\n\t/**\n\t* Create a debugger with the given `namespace`.\n\t*\n\t* @param {String} namespace\n\t* @return {Function}\n\t* @api public\n\t*/\n\tfunction createDebug(namespace) {\n\t\tlet prevTime;\n\n\t\tfunction debug(...args) {\n\t\t\t// Disabled?\n\t\t\tif (!debug.enabled) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst self = debug;\n\n\t\t\t// Set `diff` timestamp\n\t\t\tconst curr = Number(new Date());\n\t\t\tconst ms = curr - (prevTime || curr);\n\t\t\tself.diff = ms;\n\t\t\tself.prev = prevTime;\n\t\t\tself.curr = curr;\n\t\t\tprevTime = curr;\n\n\t\t\targs[0] = createDebug.coerce(args[0]);\n\n\t\t\tif (typeof args[0] !== 'string') {\n\t\t\t\t// Anything else let's inspect with %O\n\t\t\t\targs.unshift('%O');\n\t\t\t}\n\n\t\t\t// Apply any `formatters` transformations\n\t\t\tlet index = 0;\n\t\t\targs[0] = args[0].replace(/%([a-zA-Z%])/g, (match, format) => {\n\t\t\t\t// If we encounter an escaped % then don't increase the array index\n\t\t\t\tif (match === '%%') {\n\t\t\t\t\treturn match;\n\t\t\t\t}\n\t\t\t\tindex++;\n\t\t\t\tconst formatter = createDebug.formatters[format];\n\t\t\t\tif (typeof formatter === 'function') {\n\t\t\t\t\tconst val = args[index];\n\t\t\t\t\tmatch = formatter.call(self, val);\n\n\t\t\t\t\t// Now we need to remove `args[index]` since it's inlined in the `format`\n\t\t\t\t\targs.splice(index, 1);\n\t\t\t\t\tindex--;\n\t\t\t\t}\n\t\t\t\treturn match;\n\t\t\t});\n\n\t\t\t// Apply env-specific formatting (colors, etc.)\n\t\t\tcreateDebug.formatArgs.call(self, args);\n\n\t\t\tconst logFn = self.log || createDebug.log;\n\t\t\tlogFn.apply(self, args);\n\t\t}\n\n\t\tdebug.namespace = namespace;\n\t\tdebug.enabled = createDebug.enabled(namespace);\n\t\tdebug.useColors = createDebug.useColors();\n\t\tdebug.color = selectColor(namespace);\n\t\tdebug.destroy = destroy;\n\t\tdebug.extend = extend;\n\t\t// Debug.formatArgs = formatArgs;\n\t\t// debug.rawLog = rawLog;\n\n\t\t// env-specific initialization logic for debug instances\n\t\tif (typeof createDebug.init === 'function') {\n\t\t\tcreateDebug.init(debug);\n\t\t}\n\n\t\tcreateDebug.instances.push(debug);\n\n\t\treturn debug;\n\t}\n\n\tfunction destroy() {\n\t\tconst index = createDebug.instances.indexOf(this);\n\t\tif (index !== -1) {\n\t\t\tcreateDebug.instances.splice(index, 1);\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\tfunction extend(namespace, delimiter) {\n\t\tconst newDebug = createDebug(this.namespace + (typeof delimiter === 'undefined' ? ':' : delimiter) + namespace);\n\t\tnewDebug.log = this.log;\n\t\treturn newDebug;\n\t}\n\n\t/**\n\t* Enables a debug mode by namespaces. This can include modes\n\t* separated by a colon and wildcards.\n\t*\n\t* @param {String} namespaces\n\t* @api public\n\t*/\n\tfunction enable(namespaces) {\n\t\tcreateDebug.save(namespaces);\n\n\t\tcreateDebug.names = [];\n\t\tcreateDebug.skips = [];\n\n\t\tlet i;\n\t\tconst split = (typeof namespaces === 'string' ? namespaces : '').split(/[\\s,]+/);\n\t\tconst len = split.length;\n\n\t\tfor (i = 0; i < len; i++) {\n\t\t\tif (!split[i]) {\n\t\t\t\t// ignore empty strings\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tnamespaces = split[i].replace(/\\*/g, '.*?');\n\n\t\t\tif (namespaces[0] === '-') {\n\t\t\t\tcreateDebug.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));\n\t\t\t} else {\n\t\t\t\tcreateDebug.names.push(new RegExp('^' + namespaces + '$'));\n\t\t\t}\n\t\t}\n\n\t\tfor (i = 0; i < createDebug.instances.length; i++) {\n\t\t\tconst instance = createDebug.instances[i];\n\t\t\tinstance.enabled = createDebug.enabled(instance.namespace);\n\t\t}\n\t}\n\n\t/**\n\t* Disable debug output.\n\t*\n\t* @return {String} namespaces\n\t* @api public\n\t*/\n\tfunction disable() {\n\t\tconst namespaces = [\n\t\t\t...createDebug.names.map(toNamespace),\n\t\t\t...createDebug.skips.map(toNamespace).map(namespace => '-' + namespace)\n\t\t].join(',');\n\t\tcreateDebug.enable('');\n\t\treturn namespaces;\n\t}\n\n\t/**\n\t* Returns true if the given mode name is enabled, false otherwise.\n\t*\n\t* @param {String} name\n\t* @return {Boolean}\n\t* @api public\n\t*/\n\tfunction enabled(name) {\n\t\tif (name[name.length - 1] === '*') {\n\t\t\treturn true;\n\t\t}\n\n\t\tlet i;\n\t\tlet len;\n\n\t\tfor (i = 0, len = createDebug.skips.length; i < len; i++) {\n\t\t\tif (createDebug.skips[i].test(name)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\tfor (i = 0, len = createDebug.names.length; i < len; i++) {\n\t\t\tif (createDebug.names[i].test(name)) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n\n\t/**\n\t* Convert regexp to namespace\n\t*\n\t* @param {RegExp} regxep\n\t* @return {String} namespace\n\t* @api private\n\t*/\n\tfunction toNamespace(regexp) {\n\t\treturn regexp.toString()\n\t\t\t.substring(2, regexp.toString().length - 2)\n\t\t\t.replace(/\\.\\*\\?$/, '*');\n\t}\n\n\t/**\n\t* Coerce `val`.\n\t*\n\t* @param {Mixed} val\n\t* @return {Mixed}\n\t* @api private\n\t*/\n\tfunction coerce(val) {\n\t\tif (val instanceof Error) {\n\t\t\treturn val.stack || val.message;\n\t\t}\n\t\treturn val;\n\t}\n\n\tcreateDebug.enable(createDebug.load());\n\n\treturn createDebug;\n}\n\nmodule.exports = setup;\n","'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst debug = require(\"debug\");\r\nconst uuid_1 = require(\"uuid\");\r\nconst logger = debug('json-rpc-ws');\r\n/**\r\n * Base functionality shared by client and server\r\n *\r\n * @constructor\r\n * @public\r\n */\r\nclass Base {\r\n    constructor(type) {\r\n        this.type = type;\r\n        this.id = uuid_1.v4();\r\n        this.browser = false;\r\n        this.requestHandlers = {};\r\n        this.connections = {};\r\n    }\r\n    /**\r\n     * Add a handler function for a given method\r\n     *\r\n     * @param {String} method - name of the method to add handler for.\r\n     * @param {function} handler - function to be passed params for given method.\r\n     * @todo enforce handler w/ two-param callback\r\n     * @public\r\n     */\r\n    expose(method, handler) {\r\n        logger('registering handler for %s', method);\r\n        if (this.requestHandlers[method]) {\r\n            throw Error('cannot expose handler, already exists ' + method);\r\n        }\r\n        this.requestHandlers[method] = handler;\r\n    }\r\n    ;\r\n    /**\r\n     * Connected event handler\r\n     *\r\n     * @param {Object} socket - new socket connection\r\n     * @private\r\n     */\r\n    connected(socket) {\r\n        var connection = this.connection(socket);\r\n        logger('%s connected with id %s', this.type, connection.id);\r\n        this.connections[connection.id] = connection;\r\n    }\r\n    ;\r\n    /**\r\n     * Disconnected event handler\r\n     *\r\n     * @param {Object} connection - connection object that has been closed\r\n     * @private\r\n     */\r\n    disconnected(connection) {\r\n        logger('disconnected');\r\n        delete this.connections[connection.id];\r\n    }\r\n    ;\r\n    /**\r\n     * Test if a handler exists for a given method\r\n     *\r\n     * @param {String} method - name of method\r\n     * @returns {Boolean} whether or not there are any handlers for the given method\r\n     * @public\r\n     */\r\n    hasHandler(method) {\r\n        if (this.requestHandlers[method] !== undefined) {\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n    ;\r\n    /**\r\n     * Get handler for a given method\r\n     *\r\n     * @param {String} method - name of method\r\n     * @returns {Array}  - handler for given method\r\n     * @public\r\n     */\r\n    getHandler(method) {\r\n        return this.requestHandlers[method];\r\n    }\r\n    ;\r\n    /**\r\n     * Get a connection by id\r\n     *\r\n     * @param {id} id - id of the connection to get\r\n     * @returns {Connection} - Connection\r\n     * @public\r\n     */\r\n    getConnection(id) {\r\n        return this.connections[id];\r\n    }\r\n    ;\r\n    /**\r\n     * Shut down all existing connections\r\n     *\r\n     * @public\r\n     */\r\n    hangup() {\r\n        logger('hangup');\r\n        var connections = Object.keys(this.connections);\r\n        connections.forEach(function hangupConnection(id) {\r\n            this.connections[id].close();\r\n            delete this.connections[id];\r\n        }, this);\r\n    }\r\n    ;\r\n}\r\nexports.Base = Base;\r\n//# sourceMappingURL=base.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst shared_connection_1 = require(\"./shared-connection\");\r\nconst errors_1 = require(\"./errors\");\r\nexports.Errors = errors_1.default;\r\nconst debug_1 = require(\"debug\");\r\nconst logger = debug_1.default('json-rpc-ws');\r\nconst browser_1 = require(\"./ws/browser\");\r\nexports.Client = browser_1.default;\r\nfunction createClient() {\r\n    logger('createClient');\r\n    return new browser_1.default();\r\n}\r\nexports.createClient = createClient;\r\nclass ByobReader {\r\n    constructor(stream) {\r\n        this.stream = stream;\r\n        this.reader = new DefaultReader(stream);\r\n        this.reader.releaseLock();\r\n    }\r\n    emitError(error) {\r\n        this.reader.emitError(error);\r\n    }\r\n    get closed() {\r\n        return this.reader.closed;\r\n    }\r\n    cancel(reason) {\r\n        return this.reader.cancel(reason);\r\n    }\r\n    push(...chunks) {\r\n        this.reader.push(...chunks);\r\n    }\r\n    read(view) {\r\n        return this.reader.read().then(v => {\r\n            if (!v.done) {\r\n                view.byteOffset = v.value.byteOffset;\r\n                view.byteLength = v.value.byteLength;\r\n                view.buffer = v.value.buffer;\r\n            }\r\n            return { done: v.done, value: view };\r\n        });\r\n    }\r\n    releaseLock() {\r\n        if (this.stream.reader === this)\r\n            this.stream.reader = undefined;\r\n    }\r\n}\r\nclass Deferred extends Promise {\r\n    constructor() {\r\n        super((resolve, reject) => {\r\n            this._resolve = resolve;\r\n            this._reject = reject;\r\n        });\r\n    }\r\n    resolve(_value) {\r\n        if (typeof (this._resolve) == 'undefined')\r\n            throw new Error('Not Implemented');\r\n        this._resolve(_value);\r\n    }\r\n    reject(_reason) {\r\n        if (typeof (this._reject) == 'undefined')\r\n            throw new Error('Not Implemented');\r\n        this._reject(_reason);\r\n    }\r\n}\r\nclass DefaultReader {\r\n    constructor(stream) {\r\n        this.stream = stream;\r\n        this.closed = new Deferred();\r\n    }\r\n    emitError(error) {\r\n        if (!this.next)\r\n            this.next = new Deferred();\r\n        this.next.reject(error);\r\n        return this.next;\r\n    }\r\n    push(...chunks) {\r\n        if (chunks.length == 0)\r\n            return;\r\n        var totalLength = chunks.reduce((l, chunk) => l + (chunk === null ? 0 : chunk.byteLength - chunk.byteOffset), 0);\r\n        if (totalLength === 0) {\r\n            if (!this.next)\r\n                this.next = new Deferred();\r\n            return this.next.resolve({ done: true });\r\n        }\r\n        var buffer = new Uint8Array(totalLength);\r\n        var start = 0;\r\n        var chunk = undefined;\r\n        for (chunk of chunks) {\r\n            if (chunk === null)\r\n                break;\r\n            for (var i = chunk.byteOffset; i < chunk.byteLength; i++) {\r\n                buffer[start++] = chunk[i];\r\n            }\r\n        }\r\n        if (!this.next)\r\n            this.next = new Deferred();\r\n        this.next.resolve({ value: buffer, done: false });\r\n        if (chunk === null) {\r\n            this.next = new Deferred();\r\n            this.next.resolve({ done: true });\r\n            this.closed.resolve();\r\n        }\r\n    }\r\n    cancel(reason) {\r\n        if (this.next)\r\n            return this.next.then(() => Promise.reject(reason));\r\n        else\r\n            return Promise.reject(reason);\r\n    }\r\n    read() {\r\n        if (!this.next)\r\n            this.next = new Deferred();\r\n        this.next.finally(() => this.next = undefined);\r\n        return this.next;\r\n    }\r\n    releaseLock() {\r\n        if (this.stream.reader === this)\r\n            this.stream.reader = undefined;\r\n    }\r\n}\r\nclass Readable {\r\n    constructor() {\r\n        this.buffer = [];\r\n    }\r\n    get reader() {\r\n        return this._reader;\r\n    }\r\n    set reader(reader) {\r\n        this._reader = reader;\r\n        if (reader && this.buffer.length) {\r\n            reader.push(...this.buffer);\r\n        }\r\n    }\r\n    get locked() {\r\n        return !!this.reader && !this.target;\r\n    }\r\n    cancel(_reason) {\r\n        if (this.reader)\r\n            return this.reader.cancel(_reason);\r\n        if (this.target)\r\n            return this.target.abort(_reason);\r\n        return Promise.resolve();\r\n    }\r\n    emitError(error) {\r\n        if (this.reader)\r\n            return this.reader.emitError(error);\r\n        if (this.target)\r\n            return this.target.abort(error);\r\n    }\r\n    push(chunk) {\r\n        if (!this.reader)\r\n            this.buffer.push(chunk);\r\n        else\r\n            this.reader.push(chunk);\r\n    }\r\n    getReader(options) {\r\n        if (this.locked)\r\n            throw new Error('stream is already locked');\r\n        if (options && options.mode === 'byob') {\r\n            return this.reader = new ByobReader(this);\r\n        }\r\n        return this.reader = new DefaultReader(this);\r\n    }\r\n    pipeThrough({ writable, readable }, options) {\r\n        this.pipeTo(writable, options);\r\n        return readable;\r\n    }\r\n    async pipeTo(dest, options) {\r\n        this.target = dest;\r\n        var writer = dest.getWriter();\r\n        var chunk;\r\n        while (typeof (chunk = this.buffer.shift()) != 'undefined') {\r\n            if (chunk)\r\n                await writer.write(chunk);\r\n            if (chunk === null && options && options.preventClose)\r\n                await writer.close();\r\n        }\r\n    }\r\n    tee() {\r\n        throw new Error(\"Method not implemented.\");\r\n    }\r\n}\r\nclass Connection extends shared_connection_1.Connection {\r\n    constructor(socket, parent) {\r\n        super(socket, parent);\r\n    }\r\n    async sendStream(id, result) {\r\n        var reader = result.getReader();\r\n        var chunk = await reader.read();\r\n        if (!chunk.done && this.socket.open)\r\n            this.sendRaw({ id: id, result: { event: 'data', isBuffer: true, data: { type: 'Buffer', data: chunk.value } } });\r\n        else if (this.socket.open)\r\n            this.sendRaw({ id: id, result: { event: 'end' }, stream: false });\r\n        else\r\n            logger('socket was closed before end of stream');\r\n    }\r\n    isStream(result) {\r\n        return typeof (result) != 'undefined' && !!result && typeof (result.getReader) == 'function';\r\n    }\r\n    buildStream(id, result) {\r\n        var s = result = new Readable();\r\n        var src = result;\r\n        Object.getOwnPropertyNames(src).forEach(function (p) {\r\n            if (Object.getOwnPropertyDescriptor(result, p) == null) {\r\n                var prop = Object.getOwnPropertyDescriptor(src, p);\r\n                if (prop)\r\n                    Object.defineProperty(result, p, prop);\r\n            }\r\n        });\r\n        var f = this.responseHandlers[id] = (error, result) => {\r\n            if (!!error)\r\n                s.emitError(error);\r\n            else\r\n                switch (result.event) {\r\n                    case 'data':\r\n                        if (result.data)\r\n                            s.push(result.data.data);\r\n                        this.responseHandlers[id] = f;\r\n                        break;\r\n                    case 'end':\r\n                        s.push(null);\r\n                        break;\r\n                }\r\n        };\r\n        return result;\r\n    }\r\n}\r\nexports.Connection = Connection;\r\n//# sourceMappingURL=browser.js.map","'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst debug = require(\"debug\");\r\nconst logger = debug('json-rpc-ws');\r\n/*\r\n * http://www.jsonrpc.org/specification#error_object\r\n */\r\nclass Errors {\r\n    /**\r\n     *\r\n     */\r\n    constructor() {\r\n        this.parseError = { code: -32700, message: 'Parse error' };\r\n        this.invalidRequest = { code: -32600, message: 'Invalid Request' };\r\n        this.methodNotFound = { code: -32601, message: 'Method not found' };\r\n        this.invalidParams = { code: -32602, message: 'Invalid params' };\r\n        this.internalError = { code: -32603, message: 'Internal error' };\r\n        this.serverError = { code: -32000, message: 'Server error' };\r\n    }\r\n}\r\nexports.Errors = Errors;\r\nvar errors = new Errors();\r\n/**\r\n * Returns a valid jsonrpc2.0 error reply\r\n *\r\n * @param {String} type - type of error\r\n * @param {Number|String|null} id - optional id for reply message\r\n * @param {Any} data - optional data attribute for error message\r\n * @returns {Object|null} mreply object that can be sent back\r\n */\r\nfunction getError(type, id, data) {\r\n    if (errors[type])\r\n        throw new Error('Invalid error type ' + type);\r\n    var payload = {\r\n        error: errors[type],\r\n    };\r\n    if (typeof id === 'string' || typeof id === 'number') {\r\n        payload.id = id;\r\n    }\r\n    if (typeof data !== 'undefined') {\r\n        payload.error.data = data;\r\n    }\r\n    logger('error %j', payload);\r\n    return payload;\r\n}\r\nexports.default = getError;\r\n;\r\n//# sourceMappingURL=errors.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst base_1 = require(\"./base\");\r\nconst debug = require(\"debug\");\r\nconst logger = debug('json-rpc-ws');\r\nclass Client extends base_1.Base {\r\n    constructor(socketConstructor) {\r\n        super('client');\r\n        this.socketConstructor = socketConstructor;\r\n        logger('new Client');\r\n    }\r\n    /**\r\n     * Connect to a json-rpc-ws server\r\n     *\r\n     * @param {String} address - url to connect to i.e. `ws://foo.com/`.\r\n     * @param {function} callback - optional callback to call once socket is connected\r\n     * @public\r\n     */\r\n    connect(address, callback) {\r\n        logger('Client connect %s', address);\r\n        if (!this.isConnected())\r\n            throw new Error('Already connected');\r\n        var self = this;\r\n        var opened = false;\r\n        var socket = this.socket = this.socketConstructor(address);\r\n        socket.once('open', function clientConnected() {\r\n            // The client connected handler runs scoped as the socket so we can pass\r\n            // it into our connected method like thisk\r\n            self.connected(socket);\r\n            opened = true;\r\n            if (callback)\r\n                callback.call(this);\r\n        });\r\n        if (callback)\r\n            this.socket.once('error', function socketError(err) {\r\n                if (!opened) {\r\n                    callback.call(self, err);\r\n                }\r\n            });\r\n    }\r\n    /**\r\n     * Test whether we have a connection or not\r\n     *\r\n     * @returns {Boolean} whether or not we have a connection\r\n     * @public\r\n     */\r\n    isConnected() {\r\n        return Object.keys(this.connections).length !== 0;\r\n    }\r\n    ;\r\n    /**\r\n     * Return the current connection (there can be only one)\r\n     *\r\n     * @returns {Object} current connection\r\n     * @public\r\n     */\r\n    getConnection() {\r\n        var ids = Object.keys(this.connections);\r\n        return this.connections[ids[0]];\r\n    }\r\n    ;\r\n    /**\r\n     * Close the current connection\r\n     *\r\n     * @param {function} callback - called when the connection has been closed\r\n     * @public\r\n     */\r\n    disconnect(callback) {\r\n        if (this.isConnected())\r\n            throw new Error('Not connected');\r\n        var connection = this.getConnection();\r\n        connection.hangup(callback);\r\n    }\r\n    ;\r\n    /**\r\n     * Send a method request\r\n     *\r\n     * @param {String} method - name of method\r\n     * @param {Array} params - optional parameters for method\r\n     * @param {function} callback - optional reply handler\r\n     * @public\r\n     * @todo allow for empty params aka arguments.length === 2\r\n     */\r\n    send(method, params, callback) {\r\n        logger('send %s', method);\r\n        if (!this.isConnected())\r\n            throw new Error('Not connected');\r\n        var connection = this.getConnection();\r\n        connection.sendMethod(method, params, callback);\r\n    }\r\n    ;\r\n}\r\nexports.default = Client;\r\n//# sourceMappingURL=shared-client.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst uuid_1 = require(\"uuid\");\r\nconst debug = require(\"debug\");\r\nconst errors_1 = require(\"./errors\");\r\nconst logger = debug('json-rpc-ws');\r\n/**\r\n * Quarantined JSON.parse try/catch block in its own function\r\n *\r\n * @param {String} data - json data to be parsed\r\n * @returns {Object} Parsed json data\r\n */\r\nvar jsonParse = function jsonParse(data) {\r\n    var payload;\r\n    try {\r\n        payload = JSON.parse(data);\r\n    }\r\n    catch (error) {\r\n        logger(error);\r\n        payload = null;\r\n    }\r\n    return payload;\r\n};\r\n/**\r\n * JSON spec requires a reply for every request, but our lib doesn't require a\r\n * callback for every sendMethod. We need a dummy callback to throw into responseHandlers\r\n * for when the user doesn't supply callback to sendMethod\r\n */\r\nvar emptyCallback = function emptyCallback() {\r\n    logger('emptycallback');\r\n};\r\n/**\r\n * json-rpc-ws connection\r\n *\r\n * @constructor\r\n * @param {SocketAdapter} socket - socket adapter for this connection\r\n * @param {Object} parent - parent that controls this connection\r\n */\r\nclass Connection {\r\n    /**\r\n     *\r\n     */\r\n    constructor(socket, parent) {\r\n        this.socket = socket;\r\n        this.parent = parent;\r\n        this.id = uuid_1.v4();\r\n        this.responseHandlers = {};\r\n        if (!this.socket.send)\r\n            throw new Error('socket.send is not defined');\r\n        logger('new Connection to %s', parent.type);\r\n        socket.on('message', this.message.bind(this));\r\n        // this.on('message', this.message.bind(this));\r\n        this.once('close', this.close.bind(this));\r\n        this.once('error', this.close.bind(this));\r\n        // if (isBrowserSocket(parent, socket))\r\n        // {\r\n        //     socket.addEventListener('close', socketClosed.bind(this), { once: true });\r\n        //     socket.addEventListener('error', socketError.bind(this), { once: true });\r\n        // }\r\n        // else\r\n        // {\r\n        //     socket.once('close', this.close.bind(this));\r\n        //     socket.once('error', this.close.bind(this));\r\n        // }\r\n    }\r\n    on(event, handler) {\r\n        this.socket.on(event, handler);\r\n    }\r\n    once(event, handler) {\r\n        this.socket.once(event, handler);\r\n    }\r\n    /**\r\n     * Send json payload to the socket connection\r\n     *\r\n     * @param {Object} payload - data to be stringified\r\n     * @private\r\n     * @todo validate payload\r\n     * @todo make sure this.connection exists, is connected\r\n     * @todo if we're not connected look up the response handler from payload.id\r\n     */\r\n    sendRaw(payload) {\r\n        payload.jsonrpc = '2.0';\r\n        this.socket.send(JSON.stringify(payload));\r\n    }\r\n    ;\r\n    /**\r\n     * Validate payload as valid jsonrpc 2.0\r\n     * http://www.jsonrpc.org/specification\r\n     * Reply or delegate as needed\r\n     *\r\n     * @param {Object} payload - payload coming in to be validated\r\n     * @returns {void}\r\n     */\r\n    processPayload(payload) {\r\n        var version = payload.jsonrpc;\r\n        var id = payload.id;\r\n        var method = payload.method;\r\n        var params = payload.params;\r\n        var result = payload.result;\r\n        var error = payload.error;\r\n        if (version !== '2.0') {\r\n            return this.sendError('invalidRequest', id, { info: 'jsonrpc must be exactly \"2.0\"' });\r\n        }\r\n        //Will either have a method (request), or result or error (response)\r\n        if (typeof method === 'string') {\r\n            var handler = this.parent.getHandler(method);\r\n            if (!handler) {\r\n                return this.sendError('methodNotFound', id, { info: 'no handler found for method ' + method });\r\n            }\r\n            if (id !== undefined && id !== null && typeof id !== 'string' && typeof id !== 'number') {\r\n                return this.sendError('invalidRequest', id, { info: 'id, if provided, must be one of: null, string, number' });\r\n            }\r\n            if (params !== undefined && params !== null && typeof params !== 'object') {\r\n                return this.sendError('invalidRequest', id, { info: 'params, if provided, must be one of: null, object, array' });\r\n            }\r\n            logger('message method %s', payload.method);\r\n            if (id === null || typeof id === 'undefined') {\r\n                return handler.call(this, params, emptyCallback);\r\n            }\r\n            var handlerCallback = function handlerCallback(err, reply) {\r\n                logger('handler got callback %j, %j', err, reply);\r\n                return this.sendResult(id, err, reply);\r\n            };\r\n            if (payload.stream)\r\n                params = this.buildStream(id, params);\r\n            return handler.call(this, params, handlerCallback.bind(this));\r\n        }\r\n        // needs a result or error at this point\r\n        if (result === undefined && error === undefined) {\r\n            return this.sendError('invalidRequest', id, { info: 'replies must have either a result or error' });\r\n        }\r\n        if (typeof id === 'string' || typeof id === 'number') {\r\n            logger('message id %s result %j error %j', id, result, error);\r\n            var responseHandler = this.responseHandlers[id];\r\n            if (!responseHandler) {\r\n                return this.sendError('invalidRequest', id, { info: 'no response handler for id ' + id });\r\n            }\r\n            delete this.responseHandlers[id];\r\n            if (payload.stream) {\r\n                result = this.buildStream(id, result);\r\n            }\r\n            return responseHandler.call(this, error, result);\r\n        }\r\n    }\r\n    /**\r\n     * Send a result message\r\n     *\r\n     * @param {String} id - id for the message\r\n     * @param {Object} error - error for the message\r\n     * @param {String|Object|Array|Number} result - result for the message\r\n     * @public\r\n     *\r\n     */\r\n    sendResult(id, error, result, isStream) {\r\n        logger('sendResult %s %s %j %j', id, isStream, error, result);\r\n        // Assert(id, 'Must have an id.');\r\n        // Assert(error || result, 'Must have an error or a result.');\r\n        if (error && result)\r\n            throw new Error('Cannot have both an error and a result');\r\n        var response = { id: id, stream: !!isStream || this.isStream(result) };\r\n        if (result) {\r\n            response.result = result;\r\n            if (response.stream && this.isStream(result)) {\r\n                if (typeof id == 'undefined')\r\n                    throw new Error('streams are not supported without an id');\r\n                logger('result is stream');\r\n                this.sendStream(id, result);\r\n            }\r\n        }\r\n        else {\r\n            response.error = error;\r\n        }\r\n        this.sendRaw(response);\r\n    }\r\n    ;\r\n    /**\r\n     * Send a method message\r\n     *\r\n     * @param {String} method - method for the message\r\n     * @param {Array|Object|null} params  - params for the message\r\n     * @param {function} callback - optional callback for a reply from the message\r\n     * @public\r\n     */\r\n    sendMethod(method, params, callback) {\r\n        var id = uuid_1.v4();\r\n        if (typeof method !== 'string' || !method.length)\r\n            throw new Error('method must be a non-empty string');\r\n        if (params !== null && params !== undefined && !(params instanceof Object))\r\n            throw new Error('params, if provided,  must be an array, object or null');\r\n        logger('sendMethod %s', method, id);\r\n        if (callback) {\r\n            this.responseHandlers[id] = callback;\r\n        }\r\n        else {\r\n            this.responseHandlers[id] = emptyCallback;\r\n        }\r\n        var request = {\r\n            id: id,\r\n            method: method\r\n        };\r\n        if (params) {\r\n            if (this.isStream(params)) {\r\n                request.stream = true;\r\n                this.sendStream(id, params);\r\n            }\r\n            request.params = params;\r\n        }\r\n        this.sendRaw(request);\r\n    }\r\n    ;\r\n    /**\r\n     * Send an error message\r\n     *\r\n     * @param {Object} error - json-rpc error object (See Connection.errors)\r\n     * @param {String|Number|null} id - Optional id for reply\r\n     * @param {Any} data - Optional value for data portion of reply\r\n     * @public\r\n     */\r\n    sendError(error, id, data) {\r\n        logger('sendError %s', error);\r\n        //TODO if id matches a responseHandler, we should dump it right?\r\n        this.sendRaw(errors_1.default(error, id, data));\r\n    }\r\n    ;\r\n    /**\r\n     * Called when socket gets 'close' event\r\n     *\r\n     * @param {ConnectionError} error - optional error object of close wasn't expected\r\n     * @private\r\n     */\r\n    close(error) {\r\n        logger('close');\r\n        if (error && error !== 1000) {\r\n            debugger;\r\n            logger('close error %s', error.stack || error);\r\n        }\r\n        this.parent.disconnected(this); //Tell parent what went on so it can track connections\r\n        delete this.socket;\r\n    }\r\n    /**\r\n     * Hang up the current socket\r\n     *\r\n     * @param {function} callback - called when socket has been closed\r\n     * @public\r\n     */\r\n    hangup(callback) {\r\n        logger('hangup');\r\n        if (!this.socket)\r\n            throw new Error('Not connected');\r\n        if (typeof callback === 'function') {\r\n            var socket = this.socket;\r\n            socket.once('error', callback);\r\n            socket.once('close', callback);\r\n        }\r\n        this.socket.close();\r\n    }\r\n    ;\r\n    /**\r\n     * Incoming message handler\r\n     *\r\n     * @param {String} data - message from the websocket\r\n     * @returns {void}\r\n     * @private\r\n     */\r\n    message(data) {\r\n        //Validate as json first, easy reply if it's not\r\n        //If it's an array iterate and handle\r\n        //If it's an object handle\r\n        //name of handle function ?!?!?\r\n        logger('message %j', data);\r\n        var payload;\r\n        if (typeof (data) !== 'string') {\r\n            payload = jsonParse(data.data);\r\n        }\r\n        else if (typeof (data) == 'string') {\r\n            payload = jsonParse(data);\r\n        }\r\n        if (payload === null) {\r\n            return errors_1.default('parseError');\r\n        }\r\n        //Object or array\r\n        if (payload instanceof Array) {\r\n            payload.forEach(this.processPayload, this);\r\n        }\r\n        else {\r\n            this.processPayload(payload);\r\n        }\r\n    }\r\n    ;\r\n}\r\nexports.Connection = Connection;\r\n//# sourceMappingURL=shared-connection.js.map","'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst shared_client_1 = require(\"./shared-client\");\r\nconst browser_1 = require(\"../browser\");\r\n/**\r\n * json-rpc-ws connection\r\n *\r\n * @constructor\r\n * @param {Socket} socket - web socket for this connection\r\n * @param {Object} parent - parent that controls this connection\r\n */\r\nclass WebSocketAdapter {\r\n    constructor(socket) {\r\n        this.socket = socket;\r\n    }\r\n    get open() {\r\n        return this.socket.readyState == WebSocket.OPEN;\r\n    }\r\n    ;\r\n    close() {\r\n        this.socket.close();\r\n    }\r\n    send(data) {\r\n        this.socket.send(data);\r\n    }\r\n    on(event, handler) {\r\n        this.socket.addEventListener(event, handler);\r\n    }\r\n    once(event, handler) {\r\n        this.socket.addEventListener(event, handler, { once: true });\r\n    }\r\n}\r\nexports.WebSocketAdapter = WebSocketAdapter;\r\nclass Client extends shared_client_1.default {\r\n    connection(socket) {\r\n        return new browser_1.Connection(socket, this);\r\n    }\r\n    constructor() {\r\n        super(function (address) { return new WebSocketAdapter(new WebSocket(address.replace(/^http/, 'ws'))); });\r\n    }\r\n}\r\nexports.default = Client;\r\n//# sourceMappingURL=browser.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst shared_client_1 = require(\"../shared-client\");\r\nconst debug = require(\"debug\");\r\nconst logger = debug('json-rpc-ws');\r\nclass Client extends shared_client_1.default {\r\n    constructor(socketConstructor) {\r\n        super(socketConstructor);\r\n        logger('new ws Client');\r\n    }\r\n}\r\nexports.default = Client;\r\n//# sourceMappingURL=shared-client.js.map","// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\n// getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation. Also,\n// find the complete implementation of crypto (msCrypto) on IE11.\nvar getRandomValues = typeof crypto != 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto) || typeof msCrypto != 'undefined' && typeof msCrypto.getRandomValues == 'function' && msCrypto.getRandomValues.bind(msCrypto);\nvar rnds8 = new Uint8Array(16); // eslint-disable-line no-undef\n\nexport default function rng() {\n  if (!getRandomValues) {\n    throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n  }\n\n  return getRandomValues(rnds8);\n}","/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\nvar byteToHex = [];\n\nfor (var i = 0; i < 256; ++i) {\n  byteToHex[i] = (i + 0x100).toString(16).substr(1);\n}\n\nfunction bytesToUuid(buf, offset) {\n  var i = offset || 0;\n  var bth = byteToHex; // join used to fix memory issue caused by concatenation: https://bugs.chromium.org/p/v8/issues/detail?id=3175#c4\n\n  return [bth[buf[i++]], bth[buf[i++]], bth[buf[i++]], bth[buf[i++]], '-', bth[buf[i++]], bth[buf[i++]], '-', bth[buf[i++]], bth[buf[i++]], '-', bth[buf[i++]], bth[buf[i++]], '-', bth[buf[i++]], bth[buf[i++]], bth[buf[i++]], bth[buf[i++]], bth[buf[i++]], bth[buf[i++]]].join('');\n}\n\nexport default bytesToUuid;","import rng from './rng.js';\nimport bytesToUuid from './bytesToUuid.js'; // **`v1()` - Generate time-based UUID**\n//\n// Inspired by https://github.com/LiosK/UUID.js\n// and http://docs.python.org/library/uuid.html\n\nvar _nodeId;\n\nvar _clockseq; // Previous uuid creation time\n\n\nvar _lastMSecs = 0;\nvar _lastNSecs = 0; // See https://github.com/uuidjs/uuid for API details\n\nfunction v1(options, buf, offset) {\n  var i = buf && offset || 0;\n  var b = buf || [];\n  options = options || {};\n  var node = options.node || _nodeId;\n  var clockseq = options.clockseq !== undefined ? options.clockseq : _clockseq; // node and clockseq need to be initialized to random values if they're not\n  // specified.  We do this lazily to minimize issues related to insufficient\n  // system entropy.  See #189\n\n  if (node == null || clockseq == null) {\n    var seedBytes = options.random || (options.rng || rng)();\n\n    if (node == null) {\n      // Per 4.5, create and 48-bit node id, (47 random bits + multicast bit = 1)\n      node = _nodeId = [seedBytes[0] | 0x01, seedBytes[1], seedBytes[2], seedBytes[3], seedBytes[4], seedBytes[5]];\n    }\n\n    if (clockseq == null) {\n      // Per 4.2.2, randomize (14 bit) clockseq\n      clockseq = _clockseq = (seedBytes[6] << 8 | seedBytes[7]) & 0x3fff;\n    }\n  } // UUID timestamps are 100 nano-second units since the Gregorian epoch,\n  // (1582-10-15 00:00).  JSNumbers aren't precise enough for this, so\n  // time is handled internally as 'msecs' (integer milliseconds) and 'nsecs'\n  // (100-nanoseconds offset from msecs) since unix epoch, 1970-01-01 00:00.\n\n\n  var msecs = options.msecs !== undefined ? options.msecs : new Date().getTime(); // Per 4.2.1.2, use count of uuid's generated during the current clock\n  // cycle to simulate higher resolution clock\n\n  var nsecs = options.nsecs !== undefined ? options.nsecs : _lastNSecs + 1; // Time since last uuid creation (in msecs)\n\n  var dt = msecs - _lastMSecs + (nsecs - _lastNSecs) / 10000; // Per 4.2.1.2, Bump clockseq on clock regression\n\n  if (dt < 0 && options.clockseq === undefined) {\n    clockseq = clockseq + 1 & 0x3fff;\n  } // Reset nsecs if clock regresses (new clockseq) or we've moved onto a new\n  // time interval\n\n\n  if ((dt < 0 || msecs > _lastMSecs) && options.nsecs === undefined) {\n    nsecs = 0;\n  } // Per 4.2.1.2 Throw error if too many uuids are requested\n\n\n  if (nsecs >= 10000) {\n    throw new Error(\"uuid.v1(): Can't create more than 10M uuids/sec\");\n  }\n\n  _lastMSecs = msecs;\n  _lastNSecs = nsecs;\n  _clockseq = clockseq; // Per 4.1.4 - Convert from unix epoch to Gregorian epoch\n\n  msecs += 12219292800000; // `time_low`\n\n  var tl = ((msecs & 0xfffffff) * 10000 + nsecs) % 0x100000000;\n  b[i++] = tl >>> 24 & 0xff;\n  b[i++] = tl >>> 16 & 0xff;\n  b[i++] = tl >>> 8 & 0xff;\n  b[i++] = tl & 0xff; // `time_mid`\n\n  var tmh = msecs / 0x100000000 * 10000 & 0xfffffff;\n  b[i++] = tmh >>> 8 & 0xff;\n  b[i++] = tmh & 0xff; // `time_high_and_version`\n\n  b[i++] = tmh >>> 24 & 0xf | 0x10; // include version\n\n  b[i++] = tmh >>> 16 & 0xff; // `clock_seq_hi_and_reserved` (Per 4.2.2 - include variant)\n\n  b[i++] = clockseq >>> 8 | 0x80; // `clock_seq_low`\n\n  b[i++] = clockseq & 0xff; // `node`\n\n  for (var n = 0; n < 6; ++n) {\n    b[i + n] = node[n];\n  }\n\n  return buf ? buf : bytesToUuid(b);\n}\n\nexport default v1;","import bytesToUuid from './bytesToUuid.js';\n\nfunction uuidToBytes(uuid) {\n  // Note: We assume we're being passed a valid uuid string\n  var bytes = [];\n  uuid.replace(/[a-fA-F0-9]{2}/g, function (hex) {\n    bytes.push(parseInt(hex, 16));\n  });\n  return bytes;\n}\n\nfunction stringToBytes(str) {\n  str = unescape(encodeURIComponent(str)); // UTF8 escape\n\n  var bytes = new Array(str.length);\n\n  for (var i = 0; i < str.length; i++) {\n    bytes[i] = str.charCodeAt(i);\n  }\n\n  return bytes;\n}\n\nexport var DNS = '6ba7b810-9dad-11d1-80b4-00c04fd430c8';\nexport var URL = '6ba7b811-9dad-11d1-80b4-00c04fd430c8';\nexport default function (name, version, hashfunc) {\n  var generateUUID = function generateUUID(value, namespace, buf, offset) {\n    var off = buf && offset || 0;\n    if (typeof value == 'string') value = stringToBytes(value);\n    if (typeof namespace == 'string') namespace = uuidToBytes(namespace);\n    if (!Array.isArray(value)) throw TypeError('value must be an array of bytes');\n    if (!Array.isArray(namespace) || namespace.length !== 16) throw TypeError('namespace must be uuid string or an Array of 16 byte values'); // Per 4.3\n\n    var bytes = hashfunc(namespace.concat(value));\n    bytes[6] = bytes[6] & 0x0f | version;\n    bytes[8] = bytes[8] & 0x3f | 0x80;\n\n    if (buf) {\n      for (var idx = 0; idx < 16; ++idx) {\n        buf[off + idx] = bytes[idx];\n      }\n    }\n\n    return buf || bytesToUuid(bytes);\n  }; // Function#name is not settable on some platforms (#270)\n\n\n  try {\n    generateUUID.name = name;\n  } catch (err) {} // For CommonJS default export support\n\n\n  generateUUID.DNS = DNS;\n  generateUUID.URL = URL;\n  return generateUUID;\n}","/*\n * Browser-compatible JavaScript MD5\n *\n * Modification of JavaScript MD5\n * https://github.com/blueimp/JavaScript-MD5\n *\n * Copyright 2011, Sebastian Tschan\n * https://blueimp.net\n *\n * Licensed under the MIT license:\n * https://opensource.org/licenses/MIT\n *\n * Based on\n * A JavaScript implementation of the RSA Data Security, Inc. MD5 Message\n * Digest Algorithm, as defined in RFC 1321.\n * Version 2.2 Copyright (C) Paul Johnston 1999 - 2009\n * Other contributors: Greg Holt, Andrew Kepert, Ydnar, Lostinet\n * Distributed under the BSD License\n * See http://pajhome.org.uk/crypt/md5 for more info.\n */\nfunction md5(bytes) {\n  if (typeof bytes == 'string') {\n    var msg = unescape(encodeURIComponent(bytes)); // UTF8 escape\n\n    bytes = new Array(msg.length);\n\n    for (var i = 0; i < msg.length; i++) {\n      bytes[i] = msg.charCodeAt(i);\n    }\n  }\n\n  return md5ToHexEncodedArray(wordsToMd5(bytesToWords(bytes), bytes.length * 8));\n}\n/*\n * Convert an array of little-endian words to an array of bytes\n */\n\n\nfunction md5ToHexEncodedArray(input) {\n  var i;\n  var x;\n  var output = [];\n  var length32 = input.length * 32;\n  var hexTab = '0123456789abcdef';\n  var hex;\n\n  for (i = 0; i < length32; i += 8) {\n    x = input[i >> 5] >>> i % 32 & 0xff;\n    hex = parseInt(hexTab.charAt(x >>> 4 & 0x0f) + hexTab.charAt(x & 0x0f), 16);\n    output.push(hex);\n  }\n\n  return output;\n}\n/*\n * Calculate the MD5 of an array of little-endian words, and a bit length.\n */\n\n\nfunction wordsToMd5(x, len) {\n  /* append padding */\n  x[len >> 5] |= 0x80 << len % 32;\n  x[(len + 64 >>> 9 << 4) + 14] = len;\n  var i;\n  var olda;\n  var oldb;\n  var oldc;\n  var oldd;\n  var a = 1732584193;\n  var b = -271733879;\n  var c = -1732584194;\n  var d = 271733878;\n\n  for (i = 0; i < x.length; i += 16) {\n    olda = a;\n    oldb = b;\n    oldc = c;\n    oldd = d;\n    a = md5ff(a, b, c, d, x[i], 7, -680876936);\n    d = md5ff(d, a, b, c, x[i + 1], 12, -389564586);\n    c = md5ff(c, d, a, b, x[i + 2], 17, 606105819);\n    b = md5ff(b, c, d, a, x[i + 3], 22, -1044525330);\n    a = md5ff(a, b, c, d, x[i + 4], 7, -176418897);\n    d = md5ff(d, a, b, c, x[i + 5], 12, 1200080426);\n    c = md5ff(c, d, a, b, x[i + 6], 17, -1473231341);\n    b = md5ff(b, c, d, a, x[i + 7], 22, -45705983);\n    a = md5ff(a, b, c, d, x[i + 8], 7, 1770035416);\n    d = md5ff(d, a, b, c, x[i + 9], 12, -1958414417);\n    c = md5ff(c, d, a, b, x[i + 10], 17, -42063);\n    b = md5ff(b, c, d, a, x[i + 11], 22, -1990404162);\n    a = md5ff(a, b, c, d, x[i + 12], 7, 1804603682);\n    d = md5ff(d, a, b, c, x[i + 13], 12, -40341101);\n    c = md5ff(c, d, a, b, x[i + 14], 17, -1502002290);\n    b = md5ff(b, c, d, a, x[i + 15], 22, 1236535329);\n    a = md5gg(a, b, c, d, x[i + 1], 5, -165796510);\n    d = md5gg(d, a, b, c, x[i + 6], 9, -1069501632);\n    c = md5gg(c, d, a, b, x[i + 11], 14, 643717713);\n    b = md5gg(b, c, d, a, x[i], 20, -373897302);\n    a = md5gg(a, b, c, d, x[i + 5], 5, -701558691);\n    d = md5gg(d, a, b, c, x[i + 10], 9, 38016083);\n    c = md5gg(c, d, a, b, x[i + 15], 14, -660478335);\n    b = md5gg(b, c, d, a, x[i + 4], 20, -405537848);\n    a = md5gg(a, b, c, d, x[i + 9], 5, 568446438);\n    d = md5gg(d, a, b, c, x[i + 14], 9, -1019803690);\n    c = md5gg(c, d, a, b, x[i + 3], 14, -187363961);\n    b = md5gg(b, c, d, a, x[i + 8], 20, 1163531501);\n    a = md5gg(a, b, c, d, x[i + 13], 5, -1444681467);\n    d = md5gg(d, a, b, c, x[i + 2], 9, -51403784);\n    c = md5gg(c, d, a, b, x[i + 7], 14, 1735328473);\n    b = md5gg(b, c, d, a, x[i + 12], 20, -1926607734);\n    a = md5hh(a, b, c, d, x[i + 5], 4, -378558);\n    d = md5hh(d, a, b, c, x[i + 8], 11, -2022574463);\n    c = md5hh(c, d, a, b, x[i + 11], 16, 1839030562);\n    b = md5hh(b, c, d, a, x[i + 14], 23, -35309556);\n    a = md5hh(a, b, c, d, x[i + 1], 4, -1530992060);\n    d = md5hh(d, a, b, c, x[i + 4], 11, 1272893353);\n    c = md5hh(c, d, a, b, x[i + 7], 16, -155497632);\n    b = md5hh(b, c, d, a, x[i + 10], 23, -1094730640);\n    a = md5hh(a, b, c, d, x[i + 13], 4, 681279174);\n    d = md5hh(d, a, b, c, x[i], 11, -358537222);\n    c = md5hh(c, d, a, b, x[i + 3], 16, -722521979);\n    b = md5hh(b, c, d, a, x[i + 6], 23, 76029189);\n    a = md5hh(a, b, c, d, x[i + 9], 4, -640364487);\n    d = md5hh(d, a, b, c, x[i + 12], 11, -421815835);\n    c = md5hh(c, d, a, b, x[i + 15], 16, 530742520);\n    b = md5hh(b, c, d, a, x[i + 2], 23, -995338651);\n    a = md5ii(a, b, c, d, x[i], 6, -198630844);\n    d = md5ii(d, a, b, c, x[i + 7], 10, 1126891415);\n    c = md5ii(c, d, a, b, x[i + 14], 15, -1416354905);\n    b = md5ii(b, c, d, a, x[i + 5], 21, -57434055);\n    a = md5ii(a, b, c, d, x[i + 12], 6, 1700485571);\n    d = md5ii(d, a, b, c, x[i + 3], 10, -1894986606);\n    c = md5ii(c, d, a, b, x[i + 10], 15, -1051523);\n    b = md5ii(b, c, d, a, x[i + 1], 21, -2054922799);\n    a = md5ii(a, b, c, d, x[i + 8], 6, 1873313359);\n    d = md5ii(d, a, b, c, x[i + 15], 10, -30611744);\n    c = md5ii(c, d, a, b, x[i + 6], 15, -1560198380);\n    b = md5ii(b, c, d, a, x[i + 13], 21, 1309151649);\n    a = md5ii(a, b, c, d, x[i + 4], 6, -145523070);\n    d = md5ii(d, a, b, c, x[i + 11], 10, -1120210379);\n    c = md5ii(c, d, a, b, x[i + 2], 15, 718787259);\n    b = md5ii(b, c, d, a, x[i + 9], 21, -343485551);\n    a = safeAdd(a, olda);\n    b = safeAdd(b, oldb);\n    c = safeAdd(c, oldc);\n    d = safeAdd(d, oldd);\n  }\n\n  return [a, b, c, d];\n}\n/*\n * Convert an array bytes to an array of little-endian words\n * Characters >255 have their high-byte silently ignored.\n */\n\n\nfunction bytesToWords(input) {\n  var i;\n  var output = [];\n  output[(input.length >> 2) - 1] = undefined;\n\n  for (i = 0; i < output.length; i += 1) {\n    output[i] = 0;\n  }\n\n  var length8 = input.length * 8;\n\n  for (i = 0; i < length8; i += 8) {\n    output[i >> 5] |= (input[i / 8] & 0xff) << i % 32;\n  }\n\n  return output;\n}\n/*\n * Add integers, wrapping at 2^32. This uses 16-bit operations internally\n * to work around bugs in some JS interpreters.\n */\n\n\nfunction safeAdd(x, y) {\n  var lsw = (x & 0xffff) + (y & 0xffff);\n  var msw = (x >> 16) + (y >> 16) + (lsw >> 16);\n  return msw << 16 | lsw & 0xffff;\n}\n/*\n * Bitwise rotate a 32-bit number to the left.\n */\n\n\nfunction bitRotateLeft(num, cnt) {\n  return num << cnt | num >>> 32 - cnt;\n}\n/*\n * These functions implement the four basic operations the algorithm uses.\n */\n\n\nfunction md5cmn(q, a, b, x, s, t) {\n  return safeAdd(bitRotateLeft(safeAdd(safeAdd(a, q), safeAdd(x, t)), s), b);\n}\n\nfunction md5ff(a, b, c, d, x, s, t) {\n  return md5cmn(b & c | ~b & d, a, b, x, s, t);\n}\n\nfunction md5gg(a, b, c, d, x, s, t) {\n  return md5cmn(b & d | c & ~d, a, b, x, s, t);\n}\n\nfunction md5hh(a, b, c, d, x, s, t) {\n  return md5cmn(b ^ c ^ d, a, b, x, s, t);\n}\n\nfunction md5ii(a, b, c, d, x, s, t) {\n  return md5cmn(c ^ (b | ~d), a, b, x, s, t);\n}\n\nexport default md5;","import v35 from './v35.js';\nimport md5 from './md5.js';\nvar v3 = v35('v3', 0x30, md5);\nexport default v3;","import rng from './rng.js';\nimport bytesToUuid from './bytesToUuid.js';\n\nfunction v4(options, buf, offset) {\n  var i = buf && offset || 0;\n\n  if (typeof options == 'string') {\n    buf = options === 'binary' ? new Array(16) : null;\n    options = null;\n  }\n\n  options = options || {};\n  var rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    for (var ii = 0; ii < 16; ++ii) {\n      buf[i + ii] = rnds[ii];\n    }\n  }\n\n  return buf || bytesToUuid(rnds);\n}\n\nexport default v4;","// Adapted from Chris Veness' SHA1 code at\n// http://www.movable-type.co.uk/scripts/sha1.html\nfunction f(s, x, y, z) {\n  switch (s) {\n    case 0:\n      return x & y ^ ~x & z;\n\n    case 1:\n      return x ^ y ^ z;\n\n    case 2:\n      return x & y ^ x & z ^ y & z;\n\n    case 3:\n      return x ^ y ^ z;\n  }\n}\n\nfunction ROTL(x, n) {\n  return x << n | x >>> 32 - n;\n}\n\nfunction sha1(bytes) {\n  var K = [0x5a827999, 0x6ed9eba1, 0x8f1bbcdc, 0xca62c1d6];\n  var H = [0x67452301, 0xefcdab89, 0x98badcfe, 0x10325476, 0xc3d2e1f0];\n\n  if (typeof bytes == 'string') {\n    var msg = unescape(encodeURIComponent(bytes)); // UTF8 escape\n\n    bytes = new Array(msg.length);\n\n    for (var i = 0; i < msg.length; i++) {\n      bytes[i] = msg.charCodeAt(i);\n    }\n  }\n\n  bytes.push(0x80);\n  var l = bytes.length / 4 + 2;\n  var N = Math.ceil(l / 16);\n  var M = new Array(N);\n\n  for (var i = 0; i < N; i++) {\n    M[i] = new Array(16);\n\n    for (var j = 0; j < 16; j++) {\n      M[i][j] = bytes[i * 64 + j * 4] << 24 | bytes[i * 64 + j * 4 + 1] << 16 | bytes[i * 64 + j * 4 + 2] << 8 | bytes[i * 64 + j * 4 + 3];\n    }\n  }\n\n  M[N - 1][14] = (bytes.length - 1) * 8 / Math.pow(2, 32);\n  M[N - 1][14] = Math.floor(M[N - 1][14]);\n  M[N - 1][15] = (bytes.length - 1) * 8 & 0xffffffff;\n\n  for (var i = 0; i < N; i++) {\n    var W = new Array(80);\n\n    for (var t = 0; t < 16; t++) {\n      W[t] = M[i][t];\n    }\n\n    for (var t = 16; t < 80; t++) {\n      W[t] = ROTL(W[t - 3] ^ W[t - 8] ^ W[t - 14] ^ W[t - 16], 1);\n    }\n\n    var a = H[0];\n    var b = H[1];\n    var c = H[2];\n    var d = H[3];\n    var e = H[4];\n\n    for (var t = 0; t < 80; t++) {\n      var s = Math.floor(t / 20);\n      var T = ROTL(a, 5) + f(s, b, c, d) + e + K[s] + W[t] >>> 0;\n      e = d;\n      d = c;\n      c = ROTL(b, 30) >>> 0;\n      b = a;\n      a = T;\n    }\n\n    H[0] = H[0] + a >>> 0;\n    H[1] = H[1] + b >>> 0;\n    H[2] = H[2] + c >>> 0;\n    H[3] = H[3] + d >>> 0;\n    H[4] = H[4] + e >>> 0;\n  }\n\n  return [H[0] >> 24 & 0xff, H[0] >> 16 & 0xff, H[0] >> 8 & 0xff, H[0] & 0xff, H[1] >> 24 & 0xff, H[1] >> 16 & 0xff, H[1] >> 8 & 0xff, H[1] & 0xff, H[2] >> 24 & 0xff, H[2] >> 16 & 0xff, H[2] >> 8 & 0xff, H[2] & 0xff, H[3] >> 24 & 0xff, H[3] >> 16 & 0xff, H[3] >> 8 & 0xff, H[3] & 0xff, H[4] >> 24 & 0xff, H[4] >> 16 & 0xff, H[4] >> 8 & 0xff, H[4] & 0xff];\n}\n\nexport default sha1;","import v35 from './v35.js';\nimport sha1 from './sha1.js';\nvar v5 = v35('v5', 0x50, sha1);\nexport default v5;"],"sourceRoot":""}